<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-date="PCP" data-package="Performance Co-Pilot" data-section-name="">
<title>GANGLIA2PCP</title>
<h1>GANGLIA2PCP</h1>
<p><strong>ganglia2pcp</strong> - import ganglia data and create a PCP archive
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>ganglia2pcp</strong> [<strong>-s</strong> <em>start</em>] [<strong>-e</strong> <em>end</em>] [<strong>-f</strong> <em>outfile</em>] [<strong>-d</strong> <em>outdir</em>] [<strong>-Z</strong> <em>timezone</em>] [<strong>-h</strong> <em>hostname</em>] <em>input_dir</em>
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p><strong>ganglia2pcp</strong> is intended to read a set of ganglia files stored in the rrd format and translate them into a Performance Co-Pilot (\s-1PCP\s0) archive with the basename <em>outfile</em>.
  <p>The intent of this converter is to take all of the rrd files found in the input_dir and generate a single pcp archive file. The mapping of ganglia metrics to pcp metrics is defined internally.
  <p>The resultant \s-1PCP\s0 achive may be used with all the \s-1PCP\s0 client tools to graph subsets of the data using <strong>pmchart</strong>(1), perform data reduction and reporting, filter with the \s-1PCP\s0 inference engine <strong>pmie</strong>(1), etc.
  <p>A series of physical files will be created with the prefix <em>outfile</em>. These are <em>outfile</em><strong>.0</strong> (the performance data), <em>outfile</em><strong>.meta</strong> (the metadata that describes the performance data) and <em>outfile</em><strong>.index</strong> (a temporal index to improve efficiency of replay operations for the archive). If any of these files exists already, then <strong>sar2pcp</strong> will <strong>not</strong> overwrite them and will exit with an error message of the form
  <p>__pmLogNewFile: \*(L"blah.0\*(R" already exists, not over-written
  <p><strong>ganglia2pcp</strong> is a Perl script that uses the PCP::LogImport Perl wrapper around the \s-1PCP\s0 <em>libpcp_import</em> library, and as such could be used as an example to develop new tools to import other types of performance data and create \s-1PCP\s0 archives. The RRDs Perl wrapper is used to parse the raw rrd format files.
  <p>Options control the functioning of the converter.
  <dl>
    <dt><strong>-s</strong>
    <dd>The <em>start</em> argument specifies a start time in a format understood by str2time. The default start time is 24 prior to current time.
    <dt><strong>-e</strong>
    <dd>The <em>end</em> argument specifies a end time in a format understood by str2time. The default start time is current time.
    <dt><strong>-f</strong>
    <dd>The <em>outfile</em> argument specifies a output file name. The default name is in the standard pmlogger format based on the start time, eg 20150201.00.10
    <dt><strong>-d</strong>
    <dd>The <em>outdir</em> argument specifies a output to write to. The default is the current directory
    <dt><strong>-Z</strong>
    <dd>The <em>timezone</em> argument sets the source timezone in the \s-1PCP\s0 archive (the default is to use the local timezone). The timezone must have the format +HHMM (for hours and minutes East of \s-1UTC\s0) or -HHMM (for hours and minutes West of \s-1UTC\s0) or \s-1UTC\s0. Note in particular that <strong>neither</strong> the <strong>zoneinfo</strong> (aka Olson) format, e.g. Europe/Paris, nor the Posix <strong>\s-1TZ\s0</strong> format, e.g. \s-1EST+5\s0 is allowed. Example: timezone=\*(L"+1100\*(R".
    <dt><strong>-h</strong>
    <dd>The <em>hostname</em> argument specifies a hostname to write to the archive. The default is taken from the directory name that the rrd files reside in.
  </dl>
</div>
<div class="section">
  <h2>PCP ENVIRONMENT</h2>
  <p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <a href="/5/pcp.conf" class="link-man">pcp.conf(5)</a>.
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><a href="/1/pmie" class="link-man">pmie(1)</a>, <a href="/1/pmchart" class="link-man">pmchart(1)</a>, <a href="/1/pmlogger" class="link-man">pmlogger(1)</a>, <a href="/1/pmlogextract" class="link-man">pmlogextract(1)</a>, <a href="/1/pmlogsummary" class="link-man">pmlogsummary(1)</a>, <strong>Date::Parse</strong>(3pm), <strong>Date::Format</strong>(3pm), <strong>PCP::LogImport</strong>(3pm), <strong>RRDs</strong>(3pm) and <a href="/3/LOGIMPORT" class="link-man">LOGIMPORT(3)</a>.
</div>

