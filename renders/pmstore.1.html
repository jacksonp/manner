<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-date="PCP" data-package="Performance Co-Pilot" data-section-name="">
<title>PMSTORE</title>
<h1>PMSTORE</h1>
<div class="section">
  <h2>NAME</h2>
  <p><strong>pmstore</strong> - modify performance metric values
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>pmstore</strong> [<strong>-Lf</strong>] [<strong>-h</strong> <em>host</em>] [<strong>-i</strong> <em>instances</em>] [<strong>-K</strong> <em>spec</em>] [<strong>-n</strong> <em>pmnsfile</em>] <em>metricname</em> <em>value</em>
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p>Under certain circumstances, it is useful to be able to modify the values of performance metrics, for example to re-initialize counters or to assign new values to metrics that act as control variables.
  <p><strong>pmstore</strong> changes the current values for the nominated instances of a single performance metric, as identified by <em>metricname</em> and the list of instance identifiers following the <strong>-i</strong> argument. <em>instances</em> must be a single argument, with elements of the list separated by commas and/or white space. By default all instances of <em>metricname</em> will be updated.
  <p>Normally <strong>pmstore</strong> operates on the default Performance Metrics Name Space (PMNS), however if the <strong>-n</strong> option is specified an alternative namespace is loaded from the file <em>pmnsfile.</em>
  <p>Unless directed to another host by the <strong>-h</strong> option, <strong>pmstore</strong> will interact with the Performance Metric Collector Daemon (PMCD) on the local host.
  <p>The <strong>-L</strong> option causes <strong>pmstore</strong> to use a local context to store to metrics from PMDAs on the local host without PMCD. Only some metrics are available in this mode. The <strong>-h</strong> and <strong>-L</strong> options are mutually exclusive.
  <p>The <strong>-f</strong> option forces the given value to be stored, even if there is no current value set.
  <p>The interpretation of <em>value</em> is dependent on the syntax used in its specification and the underlying data type of <em>metricname</em>, as follows.
  <dl class="indent-4">
    <dt>1.
    <dd>
      <p>If the metric has an <strong>integer</strong> type, then <em>value</em> should be an optional leading hyphen, followed either by decimal digits or “0x” and some hexadecimal digits. “0X” is also acceptable in lieu of “0x”. See <strong>strtol</strong>(3) and the related routines.
    <dt>2.
    <dd>
      <p>If the metric has a <strong>floating point</strong> type, then <em>value</em> should be either in the form of an integer described above, or a fixed point number, or a number in scientific notation. See <strong>strtod</strong>(3).
    <dt>3.
    <dd>
      <p>If the metric has a <strong>string</strong> type, then <em>value</em> is interpreted as a literal string of ASCII characters.
    <dt>4.
    <dd>
      <p>If the metric has any other type (i.e. <strong>PM_TYPE_EVENT</strong> or <strong>PM_TYPE_AGGREGATE</strong>) then no encoding of <em>value</em> from the command line makes sense, and the values of these metrics cannot be modified with <strong>pmstore</strong>.
  </dl>
  <p>The output reports the old value and the new value for each updated instance of the requested metric.
  <p>When using the <strong>-L</strong> option to fetch metrics from a local context, the <strong>-K</strong> option may be used to control the DSO PMDAs that should be made accessible. The <em>spec</em> argument conforms to the syntax described in <strong>__pmSpecLocalPMDA</strong>(3). More than one <strong>-K</strong> option may be used.
</div>
<div class="section">
  <h2>FILES</h2>
  <dl>
    <dt><strong>$PCP_VAR_DIR/pmns/</strong><em>*</em>
    <dd>
      <p>default PMNS specification files
  </dl>
</div>
<div class="section">
  <h2>PCP ENVIRONMENT</h2>
  <p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><strong>pmcd</strong>(1), <strong>pminfo</strong>(1), <strong>pmval</strong>(1), <strong>__pmSpecLocalPMDA</strong>(3), <strong>strtod</strong>(3) and <strong>strtol</strong>(3).
</div>
<div class="section">
  <h2>DIAGNOSTICS</h2>
  <p>Two messages indicate a mismatch between the internal data type for <em>metricname</em> and the <em>value</em> provided.
  <p>The value “???” is out of range for the data type (PM_TYPE_...)
  <p>The value “???” is incompatible with the data type (PM_TYPE_...)
</div>

