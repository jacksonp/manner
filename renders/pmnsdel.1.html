<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-date="PCP" data-package="Performance Co-Pilot" data-section-name="">
<title>PMNSDEL</title>
<h1>PMNSDEL</h1>
<div class="section">
  <h2>NAME</h2>
  <p><strong>pmnsdel</strong> - delete a subtree of names from the Performance Co-Pilot PMNS
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>$PCP_BINADM_DIR/pmnsdel</strong> [<strong>-n</strong> <em>namespace</em>] <em>metricpath</em> [ ... ]
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p><strong>pmnsdel</strong> removes subtrees of names from a Performance Metrics Name Space (PMNS), as used by the components of the Performance Co-Pilot (PCP).
  <p>Normally <strong>pmnsdel</strong> operates on the default Performance Metrics Name Space (PMNS), however if the <strong>-n</strong> option is specified an alternative namespace is used from the file <em>namespace</em>.
  <p>The default PMNS is found in the file <em>$PCP_VAR_DIR/pmns/root</em> unless the environment variable <strong>PMNS_DEFAULT</strong> is set, in which case the value is assumed to be the pathname to the file containing the default PMNS.
  <p>The metric names to be deleted are all those for which one of the <em>metricpath</em> arguments is a prefix in the PMNS, see <a href="/5/pmns" class="link-man">pmns(5)</a>.
  <p>All of the files defining the PMNS must be located within the directory that contains the root of the PMNS, and this would typically be <strong>$PCP_VAR_DIR/pmns</strong> for the default PMNS, and this would typically imply running <strong>pmnsdel</strong> as root.
  <p>Provided some initial integrity checks are satisfied, <strong>pmnsdel</strong> will update the necessary PMNS files. Should an error be encountered the original namespace is restored. Note that any PMNS files that are no longer referenced by the modified namespace will not be removed, even though their contents are not part of the new namespace.
</div>
<div class="section">
  <h2>CAVEAT</h2>
  <p>Once the writing of the new <em>namespace</em> file has begun, the signals SIGINT, SIGHUP and SIGTERM will be ignored to protect the integrity of the new files.
</div>
<div class="section">
  <h2>FILES</h2>
  <dl class="indent-2.5i">
    <dt><em>$PCP_VAR_DIR/pmns/root</em>
    <dd>the default PMNS, when then environment variable <strong>PMNS_DEFAULT</strong> is unset
  </dl>
</div>
<div class="section">
  <h2>PCP ENVIRONMENT</h2>
  <p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <a href="/5/pcp.conf" class="link-man">pcp.conf(5)</a>.
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><a href="/1/pmnsadd" class="link-man">pmnsadd(1)</a>, <a href="/1/pmnsmerge" class="link-man">pmnsmerge(1)</a>, <a href="/5/pcp.conf" class="link-man">pcp.conf(5)</a>, <a href="/5/pcp.env" class="link-man">pcp.env(5)</a> and <a href="/5/pmns" class="link-man">pmns(5)</a>.
</div>

