<!DOCTYPE html>
<meta charset="utf-8">
<meta name="man-page-info" data-extra1="" data-extra2="" data-extra3="">
<title>mdoc-update</title>
<h1>mdoc-update</h1>
<section>
  <h2>NAME</h2>
  <p>mdoc update - <strong>mdoc</strong>(5) documentation format support
</section>
<section>
  <h2>SYNOPSIS</h2>
  <p><strong>mdoc update</strong> [OPTIONS]* ASSEMBLIES
</section>
<section>
  <h2>DESCRIPTION</h2>
  <p><strong>mdoc update</strong> is responsible for the following:
  <ul>
    <li>Creating documentation stubs based on <em>ASSEMBLIES</em>. &nbsp;The stub-creation process will create new <strong>mdoc</strong>(5) XML files for each type within <em>ASSEMBLIES</em>, and provide documentation stubs for each member of those types.
    <li>Update documentation stubs based on <em>ASSEMBLIES</em>. &nbsp;Existing <strong>mdoc</strong>(5) documentation can be updated to reflect changes within <em>ASSEMBLIES</em>, such as added types and members, while preserving existing documentation.<br>
    <br>
    In some limited circumstances, renames will be tracked, minimizing the documentation burden when e.g. a parameter is renamed.
  </ul>
  <p><strong>mdoc update</strong> does not rely on documentation found within source code, though it can import XML Documentation Comments via the <strong>-i</strong> option.
  <p>See <strong>mdoc</strong>(1) and <strong>mdoc</strong>(5) for more information.
</section>
<section>
  <h2>OPTIONS</h2>
  <dl>
    <dt><strong>--delete</strong>
    <dd>
      <p>Allow <strong>mdoc update</strong> to delete members from documentation files. &nbsp; The only members deleted are members which are no longer present within <em>ASSEMBLIES</em> and are not present in any other assembly versions.
      <p>If a type is no longer present, the documentation file is <em>not</em> deleted, but is instead <em>renamed</em> to have a <strong>.remove</strong> extension.
      <p>Version detection is done with the <em>//AssemblyVersion</em> elements; if there are no <em>//AssemblyVersion</em> elements for a given <em>&lt;Type&gt;</em> or &nbsp;<em>&lt;Member/&gt;</em>, then the <em>&lt;Type&gt;</em> will be renamed and/or the &nbsp;<em>&lt;Member/&gt;</em> will be removed.
    <dt><strong>--exceptions</strong>[=<em>SOURCES</em>]
    <dd>
      <p>EXPERIMENTAL. &nbsp;This is not 100% reliable, but is intended to serve as an aid for documentation writers.
      <p>Inspect member bodies to determine what exceptions can be generated from the member.
      <p><em>SOURCES</em> is an optional comma-separated list of the following sources that should be searched for exceptions:
      <pre>        added   Only generate &lt;exception/&gt; elements for members 
                  added during the current program execution.
                  This keeps mdoc-update from re-generating
                  &lt;exception/&gt; elements for all members (and thus
                  prevents re-insertion for members that had the
                  &lt;exception/&gt; elements removed).
        all     Find exceptions created in the member itself, 
                  references to members in the same assembly, 
                  and references to members in dependent 
                  assemblies.
        asm     Find exceptions created in the member itself and
                  references to members within the same assembly
                  as the member.
        depasm  Find exceptions created in the member itself and
                  references to members within dependent 
                  assemblies.</pre>
      <p>If <em>SOURCES</em> isn't provided (the default), then only exceptions created &nbsp;within the member itself will be documented.
      <p>LIMITATIONS: Exception searching is currently implemented by looking for the exception types that are explicitly created based on the known compile-time types. &nbsp;This has the following limitations:
      <ul>
        <li>This will not find exceptions which are implicit to the IL, such as NullReferenceException and IndexOutOfRangeException.
        <li>
          <p>This will find exceptions which are <em>not</em> thrown, e.g.
          <pre>    public void CreateAnException ()
    {
        Exception e = new Exception ();
    }</pre>
        <li>
          <p>This will not "follow" delegate and interface calls:
          <pre>    public void UsesDelegates ()
    {
        Func&lt;int, int&gt; a = x =&gt; {throw new Exception ();};
        a (4);
    }</pre>
          <p>The function <em>UsesDelegates()</em> won't have any exceptions documented.
        <li>
          <p>This will find exceptions which "cannot happen", such as ArgumentNullExceptions for arguments which are "known" to be non-null:
          <pre>    public void A ()
    {
        B ("this parameter isn't null");
    }

    public void B (string s)
    {
        if (s == null)
            throw new ArgumentNullException ("s");
    }</pre>
          <p>For the above, if <strong>--exceptions=asm</strong> is provided then <em>A()</em> will be documented as throwing an ArgumentNullException, which cannot happen.
      </ul>
    <dt><strong>-f</strong>=<em>FLAG</em>
    <dd>
      <p>Specify a flag to alter behavior. &nbsp;Valid flags include:
      <dl>
        <dt><strong>no-assembly-versions</strong>
        <dd>
          <p>See the <strong>-fno-assembly-versions</strong> documentation, below.
      </dl>
    <dt><strong>-fno-assembly-versions</strong>
    <dd>
      <p>Do not generate <em>/Type/AssemblyInfo/AssemblyVersion</em> and <em>/Type/Members/Member/AssemblyInfo</em> elements.
      <p>This is useful to prevent "churn" during updates. &nbsp;Normally, if a type or member hasn't changed but the assembly version has changed, then all types and members will be updated to include a new <em>//AssemblyVersion</em> element, thus increasing the amount of changes that need review before committing (assuming all changes are actually reviewed before commit).
      <p>WARNING: This <em>will</em> interact badly with the <strong>--delete</strong> option, as <strong>--delete</strong> uses the <em>//AssemblyVersion</em> elements to track version changes. &nbsp;Thus, if you have a member which is present in an early assembly version and is removed in a subsequent assembly version, such as <em>System.Text.UTF8Encoding.GetBytes(string)</em> (which is present in .NET 1.0 but not in .NET 2.0), then the member will be removed when the <strong>--delete -fno-assembly-versions</strong> options are specified, the member was present in an earlier version of the assembly, and the current version of the assembly does not contain the member.
      <p>Consequently, this option should <em>only</em> be specified if types and members will <em>never</em> be removed from an assembly.
    <dt><strong>-i</strong>, <strong>--import</strong>=<em>FILE</em>
    <dd>
      <p>Import documentation found within <em>FILE</em>.
      <p><em>FILE</em> may contain either <em>csc /doc</em> XML or <em>ECMA-335</em> XML.
    <dt><strong>-L</strong>, <strong>--lib</strong>=<em>DIRECTORY</em>
    <dd>
      <p>Add <em>DIRECTORY</em> to the assembly search path, so that dependencies of <em>ASSEMBLIES</em> can be found without documenting those assemblies.
    <dt><strong>-o</strong>, <strong>--out</strong>=<em>DIRECTORY</em>
    <dd>
      <p>Place the generated stubs into <em>DIRECTORY</em>.
      <p>When updating documentation, <em>DIRECTORY</em> is also the source directory.
    <dt><strong>-r</strong>=<em>ASSEMBLY</em>
    <dd>
      <p><em>ASSEMBLY</em> is a dependency for one of <em>ASSEMBLIES</em> which should <em>not</em> be documented but is required to process one of <em>ASSEMBLIES</em>. Add the directory containing <em>ASSEMBLY</em> to the assembly search path.
      <p>This option is equivalent to specifying <strong>-L</strong> `<em>dirname</em> ASSEMBLY`.
    <dt><strong>--since</strong>=<em>VERSION</em>
    <dd>
      <p>When <em>updating</em> documentation for an assembly, if a type or member is encountered which didn't exist in the previous version of the assembly a <strong>&lt;since version="</strong><em>VERSION</em><strong>"/&gt;</strong> element will be inserted.
    <dt><strong>--type</strong>=<em>TYPE</em>
    <dd>
      <p>Only update documentation for the type <em>TYPE</em>.
    <dt><strong>-h, -?, --help</strong>
    <dd>
      <p>Display a help message and exit.
  </dl>
</section>
<section>
  <h2>SEE ALSO</h2>
  <p>mdoc(1), &nbsp;mdoc(5), &nbsp;mdoc-assemble(1), mdoc-export-html(1), mdoc-validate(1),
</section>
<section>
  <h2>MAILING LISTS</h2>
  <p>Visit http://lists.ximian.com/mailman/listinfo/mono-docs-list for details.
</section>
<section>
  <h2>WEB SITE</h2>
  <p>Visit http://www.mono-project.com for details
</section>

