<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-date="2013-04-01" data-package="Debian project" data-section-name="dpkg utilities">
<title>dpkg-statoverride</title>
<h1>dpkg-statoverride</h1>
<div class="section">
  <h2>NAME</h2>
  <p>dpkg-statoverride - override ownership and mode of files
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>dpkg-statoverride</strong> [<em>option</em>...] <em>command</em>
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p>“<strong>stat overrides</strong>” are a way to tell <strong>dpkg</strong>(1) to use a different owner or mode for a path when a package is installed (this applies to any filesystem object that <strong>dpkg</strong> handles, including directories, devices, etc.). This can be used to force programs that are normally setuid to be install without a setuid flag, or only executable by a certain group.
  <p><strong>dpkg-statoverride</strong> is a utility to manage the list of stat overrides. It has three basic functions: adding, removing and listing overrides.
</div>
<div class="section">
  <h2>COMMANDS</h2>
  <dl>
    <dt><strong>--add</strong> <em>user group mode path</em>
    <dd>
      <p>Add an override for <em>path</em>. <em>path</em> does not need to exist when this command is used; the override will be stored and used later. Users and groups can be specified by their name (for example <strong>root</strong> or <strong>nobody</strong>), or by their number by prepending the number with a ‘<strong>#</strong>’ (for example <strong>#0</strong> or <strong>#65534</strong>). The <em>mode</em> needs to be specified in octal.
      <p>If <strong>--update</strong> is specified and <em>path</em> exists, it is immediately set to the new owner and mode.
    <dt><strong>--remove</strong> <em>path</em>
    <dd>Remove an override for <em>path</em>, the status of <em>path</em> is left unchanged by this command.
    <dt><strong>--list</strong> [<em>glob-pattern</em>]
    <dd>List all overrides. If a glob pattern is specified restrict the output to overrides which match the glob.
    <dt><strong>--help</strong>
    <dd>Show the usage message and exit.
    <dt><strong>--version</strong>
    <dd>Show the version and exit.
  </dl>
</div>
<div class="section">
  <h2>OPTIONS</h2>
  <dl>
    <dt><strong>--admindir</strong> <em>directory</em>
    <dd>Change the <em>directory</em> of the <strong>dpkg</strong> database where the statoverride file is also stored. Defaults to <em>/var/lib/dpkg</em>.
    <dt><strong>--force</strong>
    <dd>Force an action, even if a sanity check would otherwise prohibit it. This is necessary to override an existing override.
    <dt><strong>--update</strong>
    <dd>Immediately try to change the <em>path</em> to the new owner and mode if it exists.
    <dt><strong>--quiet</strong>
    <dd>Be less verbose about what we do.
  </dl>
</div>
<div class="section">
  <h2>EXIT STATUS</h2>
  <dl>
    <dt><strong>0</strong>
    <dd>The requested action was successfully performed.
    <dt><strong>1</strong>
    <dd>For <strong>--list</strong>, if there are no overrides or none match the supplied glob.
    <dt><strong>2</strong>
    <dd>Fatal or unrecoverable error due to invalid command-line usage, or interactions with the system, such as accesses to the database, memory allocations, etc.
  </dl>
</div>
<div class="section">
  <h2>ENVIRONMENT</h2>
  <dl>
    <dt><strong>DPKG_ADMINDIR</strong>
    <dd>If set and the <strong>--admindir</strong> option has not been specified, it will be used as the <strong>dpkg</strong> data directory.
  </dl>
</div>
<div class="section">
  <h2>FILES</h2>
  <dl>
    <dt><em>/var/lib/dpkg/statoverride</em>
    <dd>File which contains the current list of stat overrides of the system. It is located in the <strong>dpkg</strong> administration directory, along with other files important to <strong>dpkg</strong>, such as <em>status</em> or <em>available</em>.<br>
    Note: <strong>dpkg-statoverride</strong> preserves the old copy of this file, with extension “-old”, before replacing it with the new one.
  </dl>
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><strong>dpkg</strong>(1).
</div>

