<!DOCTYPE html>
<meta charset="utf-8">
<meta name="man-page-info" data-extra1="" data-extra2="" data-extra3="">
<title>Mono</title>
<h1>Mono</h1>
<section>
  <h2>NAME</h2>
  <p>caspol - Command line tool to modify Code Access Security policies.
</section>
<section>
  <h2>SYNOPSIS</h2>
  <p><strong>caspol [options] [policy level] [actions] [parameters] ...</strong>
</section>
<section>
  <h2>DESCRIPTION</h2>
  <p>This tool allows to list and modify the different policy levels (user, &nbsp;machine and enterprise).
</section>
<section>
  <h2>OPTIONS</h2>
  <dl>
    <dt><em>-q[uiet]</em>
    <dd>
      <p>Do not ask confirmation to change the policy level.
    <dt><em>-f[orce]</em>
    <dd>
      <p>Caspol.exe is a managed tool. Changing the security policies could affect it's ability to work properly. This option permits changes that could &nbsp;disallow caspol.exe from working properly.
    <dt><em>-? | /? | -h[elp]</em>
    <dd>
      <p>Display help about the Code Access Security policies tool
  </dl>
</section>
<section>
  <h2>POLICY LEVELS</h2>
  <dl>
    <dt><em>-en[terprise]</em>
    <dd>
      <p>Use the enterprise policy level for the next actions
    <dt><em>-m[achine]</em>
    <dd>
      <p>Use the machine policy level for the next actions. This is the default level for administrators (i.e. with write access to the machine policy files).
    <dt><em>-u[ser]</em>
    <dd>
      <p>Use the user policy level for the next actions. This is the default &nbsp;level for users (i.e. without write access to the machine policy files).
    <dt><em>-ca policyfile | -customall policyfile</em>
    <dd>
      <p>Use the specified file as the machine policy level for other arguments Use the policy levels Enterprise, Machine and the custom (specified) user policy level for the next actions
    <dt><em>-cu[stomuser] policyfile</em>
    <dd>
      <p>Use the specified file as the user policy level for next actions
    <dt><em>-a[ll]</em>
    <dd>
      <p>Use all the policy levels (Enterprise, Machine and User) for the next &nbsp;actions
  </dl>
</section>
<section>
  <h2>ACTIONS</h2>
  <p><em>-l[ist]</em> List all code groups in their hierarchical structure, all named &nbsp;permissions sets and all fully trusted assemblies
  <dl>
    <dt><em>-ld | -listdescription</em>
    <dd>
      <p>List all code groups, in their hierarchical structure, with their &nbsp;descriptions
    <dt><em>-lg | -listgroups</em>
    <dd>
      <p>List all the code groups in their hierarchical structure
    <dt><em>-lp | -listpset</em>
    <dd>
      <p>List all the permission sets including their names and XML representation
    <dt><em>-lf | -listfulltrust</em>
    <dd>
      <p>List all fully trusted assemblies
    <dt><em>-rsg | -resolvegroup assemblyname</em>
    <dd>
      <p>List all code groups that the assembly is part of for the policy level
    <dt><em>-rsp | -resolveperm assemblyname</em>
    <dd>
      <p>List all permissions granted to the specified assembly by the policy level
    <dt><em>-ap | -addpset namedxmlfile | (xmlfile name)</em>
    <dd>
      <p>Add a named permission set to the policy level
    <dt><em>-cp | -chgpset xmlfile psetname</em>
    <dd>
      <p>Change a named permission set in the policy level
    <dt><em>-rp | -rempset psetname</em>
    <dd>
      <p>Remove the specified named permission set from the policy level
    <dt><em>-af | -addfulltrust assemblyname</em>
    <dd>
      <p>Add the specified assembly to the fully trusted assembly list in the &nbsp;policy level. If a policy uses some custom security permissions then the assembly containing the custom permissions must be in the fully trusted list. Note that this requirement is recursive (all assemblies required &nbsp;by the specified assembly must also be in the list). The assembly must be strongnamed to be included in the fully trusted list
    <dt><em>-rf | -remfulltrust assemblyname</em>
    <dd>
      <p>Remove the specified assembly from the fully trusted assembly list in the &nbsp;policy level
    <dt><em>-ag | -addgroup label|name membership psetname flag</em>
    <dd>
      <p>Add the specified code group with the supplied membership, permissions and flags informations
    <dt><em>-cg | -chggroup label|name membership|psetname|flag</em>
    <dd>
      <p>Change the specified code group with the supplied informations
    <dt><em>-rg | -remgroup label|name</em>
    <dd>
      <p>Remove the specified code group
    <dt><em>-r[ecover]</em>
    <dd>
      <p>Recover from previous version of the policy level (if available)
    <dt><em>-rs | -reset</em>
    <dd>
      <p>Reset the current policy level to it's default - or to the .default file &nbsp;if available
  </dl>
</section>
<section>
  <h2>CONFIGURATION SETTINGS</h2>
  <dl>
    <dt><em>-s[ecurity] on | off</em>
    <dd>
      <p>Turn Code Access Security (CAS) on or off. Note: This doesn't affect &nbsp;non-CAS permissions
    <dt><em>-e[xecution] on | off</em>
    <dd>
      <p>Turn execution rights on or off
    <dt><em>-b[uildcache]</em>
    <dd>
      <p>Build a cache (serialized version) of the policy level (.CCH files)
    <dt><em>-pp | -polchgprompt on | off</em>
    <dd>
      <p>Turn on or off policy changes prompt for future commands
  </dl>
</section>
<section>
  <h2>GROUPS SUB OPTIONS - MEMBERSHIP</h2>
  <dl>
    <dt><em>-all</em>
    <dd>
      <p>This condition applies to all code.
    <dt><em>-appdir</em>
    <dd>
      <p>This condition applies only for assemblies that URL evidence match the application directory.
    <dt><em>-custom xmlfile</em>
    <dd>
      <p>Use the option to load a custom condition into the policy. The class that will deserialize the XML policy must be in a fully trusted assembly.
    <dt><em>-hash algo [-hex hash | -file assemblyname]</em>
    <dd>
      <p>This condition specifies a specific hash that an assembly must generate (from itself) to be satisfied. Any change to the assembly will require the policy to be updated (as the hash value will have changed).
    <dt><em>-pub [-cert certificate | -file signedfile | -hex rawdata]</em>
    <dd>
      <p>This condition specifies a X.509 Authenticode(r) certificate that must have &nbsp;signed an assembly in order to be satisfied. The certificate can be referenced as a file (binary DER), a signed file (containing the certificate) or with the hexadecimal value of the certificate. Note that files outside the &nbsp;policy must also be protected against tempering.
    <dt><em>-strong -file filename [name | -noname] [version | -noversion]</em>
    <dd>
      <p>This condition specifies a specific StrongName that must have signed an assembly to be satisfied. Use -noname if the assembly name isn't known (or important) and -version if the version isn't known (or important) in the resolution.
    <dt><em>-site hostname</em>
    <dd>
      <p>This condition specifies the site from where the assembly must come from to &nbsp;be satisfied.
    <dt><em>-url URL</em>
    <dd>
      <p>This condition specifies the URL from where the assembly must come from to &nbsp;be satisfied.
    <dt><em>-zone zonename</em>
    <dd>
      <p>This condition specifies the zone from where the assembly must come from to &nbsp;be satisfied. Existing zones are MyComputer, Internet, Intranet, Trusted &nbsp;and Untrusted.
  </dl>
</section>
<section>
  <h2>GROUPS SUB OPTIONS - FLAGS</h2>
  <dl>
    <dt><em>-d[escription] description</em>
    <dd>
      <p>Add (-ag) or change (-cg) the description for the specified code group
    <dt><em>-exclusive on | off</em>
    <dd>
      <p>If on (default is off) then only this permission set will be processed for this code group (on this level).
    <dt><em>-levelfinal on | off</em>
    <dd>
      <p>If on (default is off) then no other level will be processed for this &nbsp;code group.
    <dt><em>-n[ame] name</em>
    <dd>
      <p>Add (-ag) or change (-cg) the name of the specified code group. A code group can be found by using it's name or it's label - but the later can change as it is based on it's position in the policy level hierarchy.
  </dl>
</section>
<section>
  <h2>EXAMPLES</h2>
  <dl>
    <dt>It is possible to chain several commands with the tool, like:
    <dt><strong>caspol -m -lg -rg 1.6 -lg -rs -lg</strong>
    <dt>This will list all machine level code groups, then remove the code group
    <dd>
      <p>labeled 1.6, list again all code groups (missing 1.6), reset the policy and finally show all code groups (where 1.6 is back).
  </dl>
</section>
<section>
  <h2>KNOWN ISSUES</h2>
  <dl>
    <dt><strong>Hash Membership Condition</strong>
    <dd>
      <p>Mono implementation of the Hash evidence isn't compatible with Fx 1.0/1.1. However it seems compatible with Fx 2.0. You are suggested to use a &nbsp;StrongName evidence if comptaibility is an issue for your policy.
  </dl>
</section>
<section>
  <h2>AUTHOR</h2>
  <p>Written by Sebastien Pouliot
</section>
<section>
  <h2>COPYRIGHT</h2>
  <p>Copyright (C) 2004 Novell, Inc (http://www.novell.com)
</section>
<section>
  <h2>MAILING LISTS</h2>
  <p>Visit http://lists.ximian.com/mailman/listinfo/mono-list for details.
</section>
<section>
  <h2>WEB SITE</h2>
  <p>Visit http://www.mono-project.com for details
</section>

