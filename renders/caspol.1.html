<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Mono</title>
<div>
  <h1>Mono</h1>
  <p>caspol - Command line tool to modify Code Access Security policies.
  <div class="section">
    <h2>SYNOPSIS</h2>
    <p><strong>caspol [options] [policy level] [actions] [parameters] ...</strong>
  </div>
  <div class="section">
    <h2>DESCRIPTION</h2>
    <p>This tools allow to list and modify the different policy levels (user, machine and enterprise).
  </div>
  <div class="section">
    <h2>OPTIONS</h2>
    <dl>
      <dt><em>-q[uiet]</em>
      <dd>Do not ask confirmation to change the policy level.
      <dt><em>-f[orce]</em>
      <dd>Caspol.exe is a managed tool. Changing the security policies could affect it's ability to work properly. This option permit changes that could disallow caspol.exe from working properly.
      <dt><em>-? | /? | -h[elp]</em>
      <dd>Display help about the Code Access Security policies tool
    </dl>
  </div>
  <div class="section">
    <h2>POLICY LEVELS</h2>
    <dl>
      <dt><em>-en[terprise]</em>
      <dd>Use the enterprise policy level for the next actions
      <dt><em>-m[achine]</em>
      <dd>Use the machine policy level for the next actions. This is the default level for administrators (i.e. with write access to the machine policy files).
      <dt><em>-u[ser]</em>
      <dd>Use the user policy level for the next actions. This is the default level for users (i.e. without write access to the machine policy files).
      <dt><em>-ca policyfile | -customall policyfile</em>
      <dd>Use the specified file as the machine policy level for other arguments Use the policy levels Enterprise, Machine and the custom (specified) user policy level for the next actions
      <dt><em>-cu[stomuser] policyfile</em>
      <dd>Use the specified file as the user policy level for next actions
      <dt><em>-a[ll]</em>
      <dd>Use all the policy levels (Enterprise, Machine and User) for the next actions
    </dl>
  </div>
  <div class="section">
    <h2>ACTIONS</h2>
    <p><em>-l[ist]</em> List all code groups in their hierarchical structure, all named permissions sets and all fully trusted assemblies
    <dl>
      <dt><em>-ld | -listdescription</em>
      <dd>List all code groups, in their hierarchical structure, with their descriptions
      <dt><em>-lg | -listgroups</em>
      <dd>List all the code groups in their hierarchical structure
      <dt><em>-lp | -listpset</em>
      <dd>List all the permission sets including their names and XML representation
      <dt><em>-lf | -listfulltrust</em>
      <dd>List all fully trusted assemblies
      <dt><em>-rsg | -resolvegroup assemblyname</em>
      <dd>List all code groups that the assembly is part of for the policy level
      <dt><em>-rsp | -resolveperm assemblyname</em>
      <dd>List all permissions granted to the specified assembly by the policy level
      <dt><em>-ap | -addpset namedxmlfile | (xmlfile name)</em>
      <dd>Add a named permission set to the policy level
      <dt><em>-cp | -chgpset xmlfile psetname</em>
      <dd>Change a named permission set in the policy level
      <dt><em>-rp | -rempset psetname</em>
      <dd>Remove the specified named permission set from the policy level
      <dt><em>-af | -addfulltrust assemblyname</em>
      <dd>Add the specified assembly to the fully trusted assembly list in the policy level. If a policy use some custom security permissions then the assembly containing the custom permissions must be in the fully trusted list. Note that this requirement is recursive (all assemblies required by the specified assembly must also be in the list). The assembly must be strongnamed to be included in the fully trusted list
      <dt><em>-rf | -remfulltrust assemblyname</em>
      <dd>Remove the specified assembly from the fully trusted assembly list in the policy level
      <dt><em>-ag | -addgroup label|name membership psetname flag</em>
      <dd>Add the specified code group with the supplied membership, permissions and flags informations
      <dt><em>-cg | -chggroup label|name membership|psetname|flag</em>
      <dd>Change the specified code group with the supplied informations
      <dt><em>-rg | -remgroup label|name</em>
      <dd>Remove the specified code group
      <dt><em>-r[ecover]</em>
      <dd>Recover from previous version of the policy level (if available)
      <dt><em>-rs | -reset</em>
      <dd>Reset the current policy level to it's default - or to the .default file if available
    </dl>
  </div>
  <div class="section">
    <h2>CONFIGURATION SETTINGS</h2>
    <dl>
      <dt><em>-s[ecurity] on | off</em>
      <dd>Turn Code Access Security (CAS) on or off. Note: This doesn't affect non-CAS permissions
      <dt><em>-e[xecution] on | off</em>
      <dd>Turn execution rights on or off
      <dt><em>-b[uildcache]</em>
      <dd>Build a cache (serialized version) of the policy level (.CCH files)
      <dt><em>-pp | -polchgprompt on | off</em>
      <dd>Turn on or off policy changes prompt for future commands
    </dl>
  </div>
  <div class="section">
    <h2>GROUPS SUB OPTIONS - MEMBERSHIP</h2>
    <dl>
      <dt><em>-all</em>
      <dd>This condition applies to all code.
      <dt><em>-appdir</em>
      <dd>This condition applies only for assemblies that URL evidence match the application directory.
      <dt><em>-custom xmlfile</em>
      <dd>Use the option to load a custom condition into the policy. The class that will deserialize the XML policy must be in a fully trusted assembly.
      <dt><em>-hash algo [-hex hash | -file assemblyname]</em>
      <dd>This condition specify a specific hash that an assembly must generate (from itself) to be satisfied. Any change to the assembly will require the policy to be updated (as the hash value will have changed).
      <dt><em>-pub [-cert certificate | -file signedfile | -hex rawdata]</em>
      <dd>This condition specify a X.509 Authenticode(r) certificate that must have signed an assembly in order to be satisfied. The certificate can be referenced as a file (binary DER), a signed file (containing the certificate) or with the hexadecimal value of the certificate. Note that files outside the policy must also be protected against tempering.
      <dt><em>-strong -file filename [name | -noname] [version | -noversion]</em>
      <dd>This condition specify a specific StrongName that must have signed an assembly to be satisfied. Use -noname if the assembly name isn't known (or important) and -version if the version isn't known (or important) in the resolution.
      <dt><em>-site hostname</em>
      <dd>This condition specify the site from where the assembly must come from to be satisfied.
      <dt><em>-url URL</em>
      <dd>This condition specify the URL from where the assembly must come from to be satisfied.
      <dt><em>-zone zonename</em>
      <dd>This condition specify the zone from where the assembly must come from to be satisfied. Existing zones are MyComputer, Internet, Intranet, Trusted and Untrusted.
    </dl>
  </div>
  <div class="section">
    <h2>GROUPS SUB OPTIONS - FLAGS</h2>
    <dl>
      <dt><em>-d[escription] description</em>
      <dd>Add (-ag) or change (-cg) the description for the specified code group
      <dt><em>-exclusive on | off</em>
      <dd>If on (default is off) then only this permission set will be processed for this code group (on this level).
      <dt><em>-levelfinal on | off</em>
      <dd>If on (default is off) then no other level will be processed for this code group.
      <dt><em>-n[ame] name</em>
      <dd>Add (-ag) or change (-cg) the name of the specified code group. A code group can be found by using it's name or it's label - but the later can change as it is based on it's position in the policy level hierarchy.
    </dl>
  </div>
  <div class="section">
    <h2>EXAMPLES</h2>
    <dl>
      <dt>It is possible to chain several commands with the tool, like:
      <dt><strong>caspol -m -lg -rg 1.6 -lg -rs -lg</strong>
      <dt>This will list all machine level code groups, then remove the code group
      <dd>labeled 1.6, list again all code groups (missing 1.6), reset the policy and finally showing all code groups (where 1.6 is back).
    </dl>
  </div>
  <div class="section">
    <h2>KNOWN ISSUES</h2>
    <dl>
      <dt><strong>Hash Membership Condition</strong>
      <dd>Mono implementation of the Hash evidence isn't compatible with Fx 1.0/1.1. However it seems compatible with Fx 2.0. You are suggested to use a StrongName evidence if comptaibility is an issue for your policy.
    </dl>
  </div>
  <div class="section">
    <h2>AUTHOR</h2>
    <p>Written by Sebastien Pouliot
  </div>
  <div class="section">
    <h2>COPYRIGHT</h2>
    <p>Copyright (C) 2004 Novell, Inc (http://www.novell.com)
  </div>
  <div class="section">
    <h2>MAILING LISTS</h2>
    <p>Visit http://lists.ximian.com/mailman/listinfo/mono-list for details.
  </div>
  <div class="section">
    <h2>WEB SITE</h2>
    <p>Visit http://www.mono-project.com for details
  </div>
</div>

