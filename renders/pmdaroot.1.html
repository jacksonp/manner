<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-extra1="PCP" data-extra2="Performance Co-Pilot" data-extra3="">
<title>PMDAROOT</title>
<h1>PMDAROOT</h1>
<div class="section">
  <h2>NAME</h2>
  <p><strong>pmdaroot</strong> - a privileged PMCD helper performance metrics domain agent
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>$PCP_PMDAS_DIR/root/pmdaroot</strong> [<strong>-d</strong> <em>domain</em>] [<strong>-l</strong> <em>logfile</em>] [<strong>-s</strong> <em>sockname</em>]
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p><strong>pmdaroot</strong> is a special Performance Metrics Domain Agent (PMDA) which cooperates closely with <strong>pmcd</strong>(1) and other PMDAs to provide limited privileged services to these unprivileged processes.
  <p>In this role it is used to discover operating system containers running on the local host. It also enables access to performance data from within those containers by other PMDAs running on the bare-metal host, using the <strong>pmdaRootConnect</strong>(3) and the associated namespace interfaces.
  <p>Like all other PMDAs, it also exports performance metrics from the domain it controls. Currently, this is limited to information about the containers on the local system, and currently only Docker containers can be detected.
  <dl class="indent-5">
    <dt><strong>-d</strong>
    <dd>It is absolutely crucial that the performance metrics <em>domain</em> number specified here is unique and consistent. That is, <em>domain</em> should be different for every PMDA on the one host, and the same <em>domain</em> number should be used for the same PMDA on all hosts.
    <dt><strong>-l</strong>
    <dd>Location of the log file. By default, a log file named <em>root.log</em> is written in the current directory of <strong>pmcd</strong>(1) when <strong>pmdaroot</strong> is started, i.e. <strong>$PCP_LOG_DIR/pmcd</strong>. If the log file cannot be created or is not writable, output is written to the standard error instead.
    <dt><strong>-s</strong>
    <dd>Location of the <strong>unix</strong>(7) domain socket for communication with clients seeking privileged operations. By default, a socket file named <strong>$PCP_TMP_DIR/pmcd/root.socket</strong> is used.
  </dl>
</div>
<div class="section">
  <h2>INSTALLATION</h2>
  <p>Access to the names, help text and values for the kernel performance metrics is available by default - unlike most other agents, no action is required to enable them and they should not be removed.
</div>
<div class="section">
  <h2>FILES</h2>
  <dl class="indent-10">
    <dt><strong>$PCP_PMDAS_DIR/root/help</strong>
    <dd>default help text file for metrics exported by the root PMDA.
    <dt><strong>$PCP_LOG_DIR/pmcd/root.log</strong>
    <dd>default log file for error messages and other information from the root PMDA.
    <dt><strong>$PCP_TMP_DIR/pmcd/root.socket</strong>
    <dd>default socket file for communication with root PMDA clients.
  </dl>
</div>
<div class="section">
  <h2>PCP ENVIRONMENT</h2>
  <p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><strong>PCPIntro</strong>(1), <strong>pmcd</strong>(1), <strong>PMDA</strong>(3), <strong>pmdaRootConnect</strong>(3), <strong>pcp.conf</strong>(5) and <strong>unix</strong>(7).
</div>

