<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-extra1="AUGUST 2016" data-extra2="Linux" data-extra3="Linux User's Manual">
<title>IOSTAT</title>
<h1>IOSTAT</h1>
<section>
  <h2>NAME</h2>
  <p>iostat - Report Central Processing Unit (CPU) statistics and input/output statistics for devices and partitions.
</section>
<section>
  <h2>SYNOPSIS</h2>
  <p><strong>iostat [ -c ] [ -d ] [ -h ] [ -k | -m ] [ -N ] [ -t ] [ -V ] [ -x ] [ -y ] [ -z ]</strong> <strong>[ -j { ID | LABEL | PATH | UUID | ... } ] [ -o JSON ]</strong> <strong>[ [ -H ] -g</strong> <em>group_name</em> <strong>] [ -p [</strong> <em>device</em> <strong>[,...] | ALL ] ] [</strong> <em>device</em> <strong>[...] | ALL ] [</strong> <em>interval</em> <strong>[</strong> <em>count</em> <strong>] ]</strong>
</section>
<section>
  <h2>DESCRIPTION</h2>
  <p>The <strong>iostat</strong> command is used for monitoring system input/output device loading by observing the time the devices are active in relation to their average transfer rates. The <strong>iostat</strong> command generates reports that can be used to change system configuration to better balance the input/output load between physical disks.<br>
  <br>
  The first report generated by the <strong>iostat</strong> command provides statistics concerning the time since the system was booted, unless the <strong>-y</strong> option is used (in this case, this first report is omitted). Each subsequent report covers the time since the previous report. All statistics are reported each time the <strong>iostat</strong> command is run. The report consists of a CPU header row followed by a row of CPU statistics. On multiprocessor systems, CPU statistics are calculated system-wide as averages among all processors. A device header row is displayed followed by a line of statistics for each device that is configured.<br>
  <br>
  The <em>interval</em> parameter specifies the amount of time in seconds between each report. The <em>count</em> parameter can be specified in conjunction with the <em>interval</em> parameter. If the <em>count</em> parameter is specified, the value of <em>count</em> determines the number of reports generated at <em>interval</em> seconds apart. If the <em>interval</em> parameter is specified without the <em>count</em> parameter, the <strong>iostat</strong> command generates reports continuously.
</section>
<section>
  <h2>REPORTS</h2>
  <p>The <strong>iostat</strong> command generates two types of reports, the CPU Utilization report and the Device Utilization report.
  <dl>
    <dt>CPU Utilization Report
    <dd>
      <p>The first report generated by the <strong>iostat</strong> command is the CPU Utilization Report. For multiprocessor systems, the CPU values are global averages among all processors. The report has the following format:<br>
      <br>
      <strong>%user</strong>
      <p>Show the percentage of CPU utilization that occurred while executing at the user level (application).<br>
      <br>
      <strong>%nice</strong><br>
      Show the percentage of CPU utilization that occurred while executing at the user level with nice priority.<br>
      <br>
      <strong>%system</strong><br>
      Show the percentage of CPU utilization that occurred while executing at the system level (kernel).<br>
      <br>
      <strong>%iowait</strong><br>
      Show the percentage of time that the CPU or CPUs were idle during which the system had an outstanding disk I/O request.<br>
      <br>
      <strong>%steal</strong><br>
      Show the percentage of time spent in involuntary wait by the virtual CPU or CPUs while the hypervisor was servicing another virtual processor.<br>
      <br>
      <strong>%idle</strong><br>
      Show the percentage of time that the CPU or CPUs were idle and the system did not have an outstanding disk I/O request.
    <dt>Device Utilization Report
    <dd>
      <p>The second report generated by the <strong>iostat</strong> command is the Device Utilization Report. The device report provides statistics on a per physical device or partition basis. Block devices and partitions for which statistics are to be displayed may be entered on the command line. If no device nor partition is entered, then statistics are displayed for every device used by the system, and providing that the kernel maintains statistics for it. If the <strong>ALL</strong> keyword is given on the command line, then statistics are displayed for every device defined by the system, including those that have never been used. Transfer rates are shown in 1K blocks by default, unless the environment variable POSIXLY_CORRECT is set, in which case 512-byte blocks are used. The report may show the following fields, depending on the flags used:<br>
      <br>
      <strong>Device:</strong>
      <p>This column gives the device (or partition) name as listed in the /dev directory.<br>
      <br>
      <strong>tps</strong><br>
      Indicate the number of transfers per second that were issued to the device. A transfer is an I/O request to the device. Multiple logical requests can be combined into a single I/O request to the device. A transfer is of indeterminate size.<br>
      <br>
      <strong>Blk_read/s (kB_read/s, MB_read/s)</strong><br>
      Indicate the amount of data read from the device expressed in a number of blocks (kilobytes, megabytes) per second. Blocks are equivalent to sectors and therefore have a size of 512 bytes.<br>
      <br>
      <strong>Blk_wrtn/s (kB_wrtn/s, MB_wrtn/s)</strong><br>
      Indicate the amount of data written to the device expressed in a number of blocks (kilobytes, megabytes) per second.<br>
      <br>
      <strong>Blk_read (kB_read, MB_read)</strong><br>
      The total number of blocks (kilobytes, megabytes) read.<br>
      <br>
      <strong>Blk_wrtn (kB_wrtn, MB_wrtn)</strong><br>
      The total number of blocks (kilobytes, megabytes) written.<br>
      <br>
      <strong>rrqm/s</strong><br>
      The number of read requests merged per second that were queued to the device.<br>
      <br>
      <strong>wrqm/s</strong><br>
      The number of write requests merged per second that were queued to the device.<br>
      <br>
      <strong>r/s</strong><br>
      The number (after merges) of read requests completed per second for the device.<br>
      <br>
      <strong>w/s</strong><br>
      The number (after merges) of write requests completed per second for the device.<br>
      <br>
      <strong>rsec/s (rkB/s, rMB/s)</strong><br>
      The number of sectors (kilobytes, megabytes) read from the device per second.<br>
      <br>
      <strong>wsec/s (wkB/s, wMB/s)</strong><br>
      The number of sectors (kilobytes, megabytes) written to the device per second.<br>
      <br>
      <strong>avgrq-sz</strong><br>
      The average size (in sectors) of the requests that were issued to the device.<br>
      <br>
      <strong>avgqu-sz</strong><br>
      The average queue length of the requests that were issued to the device.<br>
      <br>
      <strong>await</strong><br>
      The average time (in milliseconds) for I/O requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.<br>
      <br>
      <strong>r_await</strong><br>
      The average time (in milliseconds) for read requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.<br>
      <br>
      <strong>w_await</strong><br>
      The average time (in milliseconds) for write requests issued to the device to be served. This includes the time spent by the requests in queue and the time spent servicing them.<br>
      <br>
      <strong>svctm</strong><br>
      The average service time (in milliseconds) for I/O requests that were issued to the device. Warning! Do not trust this field any more. This field will be removed in a future sysstat version.<br>
      <br>
      <strong>%util</strong><br>
      Percentage of elapsed time during which I/O requests were issued to the device (bandwidth utilization for the device). Device saturation occurs when this value is close to 100% for devices serving requests serially. But for devices serving requests in parallel, such as RAID arrays and modern SSDs, this number does not reflect their performance limits.
  </dl>
</section>
<section>
  <h2>OPTIONS</h2>
  <dl>
    <dt>-c
    <dd>Display the CPU utilization report.
    <dt>-d
    <dd>Display the device utilization report.
    <dt>-g group_name { device [...] | ALL }
    <dd>Display statistics for a group of devices. The <strong>iostat</strong> command reports statistics for each individual device in the list then a line of global statistics for the group displayed as <strong>group_name</strong> and made up of all the devices in the list. The <strong>ALL</strong> keyword means that all the block devices defined by the system shall be included in the group.
    <dt>-h
    <dd>Make the Device Utilization Report easier to read by a human.
    <dt>-j { ID | LABEL | PATH | UUID | ... } [ device [...] | ALL ]
    <dd>Display persistent device names. Options <strong>ID</strong>, <strong>LABEL</strong>, etc. specify the type of the persistent name. These options are not limited, only prerequisite is that directory with required persistent names is present in <em>/dev/disk</em>. Optionally, multiple devices can be specified in the chosen persistent name type. Because persistent device names are usually long, option
    <dt>-H
    <dd>This option must be used with option -g and indicates that only global statistics for the group are to be displayed, and not statistics for individual devices in the group. <strong>-h</strong> is enabled implicitly with this option.
    <dt>-k
    <dd>Display statistics in kilobytes per second.
    <dt>-m
    <dd>Display statistics in megabytes per second.
    <dt>-N
    <dd>Display the registered device mapper names for any device mapper devices. Useful for viewing LVM2 statistics.
    <dt>-o JSON
    <dd>Display the statistics in JSON (Javascript Object Notation) format. JSON output field order is undefined, and new fields may be added in the future.
    <dt>-p [ { device [,...] | ALL } ]
    <dd>The -p option displays statistics for block devices and all their partitions that are used by the system. If a device name is entered on the command line, then statistics for it and all its partitions are displayed. Last, the <strong>ALL</strong> keyword indicates that statistics have to be displayed for all the block devices and partitions defined by the system, including those that have never been used. If option <strong>-j</strong> is defined before this option, devices entered on the command line can be specified with the chosen persistent name type.
    <dt>-t
    <dd>Print the time for each report displayed. The timestamp format may depend on the value of the S_TIME_FORMAT environment variable (see below).
    <dt>-V
    <dd>Print version number then exit.
    <dt>-x
    <dd>Display extended statistics.
    <dt>-y
    <dd>Omit first report with statistics since system boot, if displaying multiple records at given interval.
    <dt>-z
    <dd>Tell <strong>iostat</strong> to omit output for any devices for which there was no activity during the sample period.
  </dl>
</section>
<section>
  <h2>ENVIRONMENT</h2>
  <p>The <strong>iostat</strong> command takes into account the following environment variables:
  <dl>
    <dt>POSIXLY_CORRECT
    <dd>When this variable is set, transfer rates are shown in 512-byte blocks instead of the default 1K blocks.
    <dt>S_COLORS
    <dd>When this variable is set, display statistics in color on the terminal. Possible values for this variable are <em>never</em>, <em>always</em> or <em>auto</em> (the latter is the default).<br>
    <br>
    Please note that the color (being red, yellow, or some other color) used to display a value is not indicative of any kind of issue simply because of the color. It only indicates different ranges of values.
    <dt>S_COLORS_SGR
    <dd>
      <p>Specify the colors and other attributes used to display statistics on the terminal. Its value is a colon-separated list of capabilities that defaults to <strong>H=31;1:I=32;22:M=34;1:N=33;1:Z=33;22</strong>. Supported capabilities are:
      <dl>
        <dt><strong>H=</strong>
        <dd>SGR (Select Graphic Rendition) substring for percentage values greater than or equal to 75%.
        <dt><strong>I=</strong>
        <dd>SGR substring for device names.
        <dt><strong>M=</strong>
        <dd>SGR substring for percentage values in the range from 50% to 75%.
        <dt><strong>N=</strong>
        <dd>SGR substring for non-zero statistics values.
        <dt><strong>Z=</strong>
        <dd>SGR substring for zero values.
      </dl>
    <dt>S_TIME_FORMAT
    <dd>If this variable exists and its value is <strong>ISO</strong> then the current locale will be ignored when printing the date in the report header. The <strong>iostat</strong> command will use the ISO 8601 format (YYYY-MM-DD) instead. The timestamp displayed with option -t will also be compliant with ISO 8601 format.
  </dl>
</section>
<section>
  <h2>EXAMPLES</h2>
  <p><strong>iostat</strong>
  <div class="indent">
    <p>Display a single history since boot report for all CPU and Devices.
  </div>
  <p><strong>iostat -d 2</strong>
  <div class="indent">
    <p>Display a continuous device report at two second intervals.
  </div>
  <p><strong>iostat -d 2 6</strong>
  <div class="indent">
    <p>Display six reports at two second intervals for all devices.
  </div>
  <p><strong>iostat -x sda sdb 2 6</strong>
  <div class="indent">
    <p>Display six reports of extended statistics at two second intervals for devices sda and sdb.
  </div>
  <p><strong>iostat -p sda 2 6</strong>
  <div class="indent">
    <p>Display six reports at two second intervals for device sda and all its partitions (sda1, etc.)
  </div>
</section>
<section>
  <h2>BUGS</h2>
  <p><em>/proc</em> filesystem must be mounted for <strong>iostat</strong> to work.<br>
  <br>
  Kernels older than 2.6.x are no longer supported.<br>
  <br>
  The average service time (svctm field) value is meaningless, as I/O statistics are now calculated at block level, and we don't know when the disk driver starts to process a request. For this reason, this field will be removed in a future sysstat version.
</section>
<section>
  <h2>FILES</h2>
  <p><em>/proc/stat</em> contains system statistics.<br>
  <br>
  <em>/proc/uptime</em> contains system uptime.<br>
  <br>
  <em>/proc/diskstats</em> contains disks statistics.<br>
  <br>
  <em>/sys</em> contains statistics for block devices.<br>
  <br>
  <em>/proc/self/mountstats</em> contains statistics for network filesystems.<br>
  <br>
  <em>/dev/disk</em> contains persistent device names.
</section>
<section>
  <h2>AUTHOR</h2>
  <p>Sebastien Godard (sysstat &lt;at&gt; orange.fr)
</section>
<section>
  <h2>SEE ALSO</h2>
  <p><strong>sar</strong>(1), <strong>pidstat</strong>(1), <strong>mpstat</strong>(1), <strong>vmstat</strong>(8), <strong>tapestat</strong>(1), <strong>nfsiostat</strong>(1), <strong>cifsiostat</strong>(1)<br>
  <br>
  <em>http://pagesperso-orange.fr/sebastien.godard/</em>
</section>

