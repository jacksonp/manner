<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-extra1="2012-05-07" data-extra2="Debian Project" data-extra3="dpkg utilities">
<title>dpkg-scanpackages</title>
<h1>dpkg-scanpackages</h1>
<section>
  <h2>NAME</h2>
  <p>dpkg-scanpackages - create Packages index files
</section>
<section>
  <h2>SYNOPSIS</h2>
  <p><strong>dpkg-scanpackages</strong> [<em>option</em>...] <em>binary-dir</em> [<em>override-file</em> [<em>path-prefix</em>]] <strong>&gt;</strong> <em>Packages</em>
</section>
<section>
  <h2>DESCRIPTION</h2>
  <p><strong>dpkg-scanpackages</strong> sorts through a tree of Debian binary packages and creates a Packages file, used by <strong>apt</strong>(8), <strong>dselect</strong>(1), etc, to tell the user what packages are available for installation. These Packages files are the same as those found on Debian archive sites and CD-ROMs. You might use <strong>dpkg-scanpackages</strong> yourself if making a directory of local packages to install on a cluster of machines.
  <p><strong>Note:</strong> If you want to access the generated Packages file with <strong>apt</strong> you will probably need to compress the file with <strong>xz</strong>(1) (generating a Packages.xz file), <strong>bzip2</strong>(1) (generating a Packages.bz2 file) or <strong>gzip</strong>(1) (generating a Packages.gz file). apt ignores uncompressed Packages files except on local access (i.e. <strong>file://</strong> sources).
  <p><em>binary-dir</em> is the name of the tree of the binary packages to process (for example, <strong>contrib/binary-i386</strong>). It is best to make this relative to the root of the Debian archive, because every Filename field in the new Packages file will start with this string.
  <p><em>override-file</em> is the name of a file to read which contains information about how the package fits into the distribution (the file can be compressed since dpkg 1.15.5); see <strong>deb-override</strong>(5).
  <p><em>path-prefix</em> is an optional string to be prepended to the Filename fields.
  <p>If more than one version of a package is found only the newest one is included in the output. If they have the same version and only differ in architecture only the first one found is used.
</section>
<section>
  <h2>OPTIONS</h2>
  <dl>
    <dt><strong>-t</strong>, <strong>--type</strong> <em>type</em>
    <dd>Scan for *.<em>type</em> packages, instead of *.deb.
    <dt><strong>-e</strong>, <strong>--extra-override</strong> <em>file</em>
    <dd>Scan <em>file</em> to find supplementary overrides (the file can be compressed since dpkg 1.15.5). See <strong>deb-extra-override</strong>(5) for more information on its format.
    <dt><strong>-a</strong>, <strong>--arch</strong> <em>arch</em>
    <dd>Use a pattern consisting of <em>*_all.deb</em> and <em>*_arch.deb</em> instead of scanning for all debs.
    <dt><strong>-h</strong>, <strong>--hash</strong> <em>hash-list</em>
    <dd>Only generate file hashes for the comma-specified list specified (since dpkg 1.17.14). The default is to generate all currently supported hashes. Supported values: <strong>md5</strong>, <strong>sha1</strong>, <strong>sha256</strong>.
    <dt><strong>-m</strong>, <strong>--multiversion</strong>
    <dd>Include all found packages in the output.
    <dt><strong>-M</strong>, <strong>--medium</strong> <em>id-string</em>
    <dd>Add an <strong>X-Medium</strong> field containing the value <em>id-string</em> (since dpkg 1.15.5). This field is required if you want to generate <strong>Packages.cd</strong> files for use by the multicd access method of dselect.
    <dt><strong>-?</strong>, <strong>--help</strong>
    <dd>Show the usage message and exit.
    <dt><strong>--version</strong>
    <dd>Show the version and exit.
  </dl>
</section>
<section>
  <h2>DIAGNOSTICS</h2>
  <p><strong>dpkg-scanpackages</strong> outputs the usual self-explanatory errors. It also warns about packages that are in the wrong subdirectory, are duplicated, have a Filename field in their control file, are missing from the override file, or have maintainer substitutions which do not take effect.
</section>
<section>
  <h2>SEE ALSO</h2>
  <p><strong>dpkg</strong>(1), <strong>dselect</strong>(1), <strong>deb-override</strong>(5), <strong>deb-extra-override</strong>(5), <strong>dpkg-scansources</strong>(1).
</section>

