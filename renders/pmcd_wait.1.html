<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-extra1="PCP" data-extra2="Performance Co-Pilot" data-extra3="">
<title>PMCD_WAIT</title>
<h1>PMCD_WAIT</h1>
<div class="section">
  <h2>NAME</h2>
  <p><strong>pmcd_wait</strong> - wait for PMCD to accept client connections
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>$PCP_BINADM_DIR/pmcd_wait</strong> [<strong>-h</strong> <em>host</em>] [<strong>-t</strong> <em>interval</em>] [<strong>-v</strong>]
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p><strong>pmcd_wait</strong> waits for the Performance Metrics Collector Daemon (PMCD) to be running and accepting client connections.
  <p>Unless directed to another host by the <strong>-h</strong> option, <strong>pmcd_wait</strong> will try to contact <strong>pmcd</strong>(1) on the local host.
  <p><strong>pmcd_wait</strong> will timeout and abandon the attempt to connect to <strong>pmcd</strong> after 60 seconds. This default timeout interval may be changed using the <strong>-t</strong> option, where the <em>interval</em> argument follows the syntax described in <strong>PCPIntro</strong>(1) and in the simplest form may be an unsigned integer (the implied units in this case are seconds).
  <p>On successful connection to <strong>pmcd</strong> an exit status of zero is returned.
  <p>If an error or timeout occurs, then a non-zero exit status is returned as described below.
  <p>The other options are as follows:
  <dl>
    <dt><strong>-v</strong>
    <dd>This option turns the verbose mode on. With the verbose mode off (which is the default), no output will be generated. With verbose mode on, error messages will be output on <em>stderr</em>.
  </dl>
</div>
<div class="section">
  <h2>PCP ENVIRONMENT</h2>
  <p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><strong>PCPIntro</strong>(1), <strong>pmcd</strong>(1), <strong>pcp.conf</strong>(5) and <strong>pcp.env</strong>(5).
</div>
<div class="section">
  <h2>DIAGNOSTICS</h2>
  <p>Error messages will be output to <em>stderr</em> only if the verbose mode is on.
  <p>The following exit status codes are returned:
  <dl>
    <dt><strong>0</strong>
    <dd><strong>pmcd_wait</strong> was able to successfully connect to <strong>pmcd</strong> within the timeout period.
    <dt><strong>1</strong>
    <dd>A usage error occurred, use <strong>-v</strong> for more details.
    <dt><strong>2</strong>
    <dd>No connection was made in the timeout interval. This will happen if <strong>pmcd</strong> is running but takes too long to complete the client connection, or if <strong>pmcd</strong> is not running and all connection attempts in the timeout interval failed with the error ECONNREFUSED.
    <dt><strong>3</strong>
    <dd>A UNIX error occurred, use <strong>-v</strong> for more details.
    <dt><strong>4</strong>
    <dd>A PCP error occurred, use <strong>-v</strong> for more details.
  </dl>
</div>

