<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-date="PCP" data-package="Performance Co-Pilot" data-section-name="">
<title>PMTRACE</title>
<h1>PMTRACE</h1>
<div class="section">
  <h2>NAME</h2>
  <p><strong>pmtrace</strong> - command line performance instrumentation
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>pmtrace</strong> [<strong>-q</strong>] [<strong>-c</strong> <em>value</em> | <strong>-e</strong> <em>command</em> | <strong>-v</strong> <em>value</em>] [<strong>-h</strong> <em>host</em>] [<strong>-S</strong> <em>state</em>] <em>tag</em>
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p><strong>pmtrace</strong> provides a simple command line interface to the trace Performance Metrics Domain Agent (PMDA) and the associated <em>pcp_trace</em> library.
  <p>The default <strong>pmtrace</strong> behavior is to provide point trace data to the trace PMDA, using the <em>tag</em> argument as the identifying name associated with each trace point. The <em>tag</em> then becomes an instance identifier within the set of trace.point metrics.
  <p>The <strong>-e</strong> option allows an arbitrary <em>command</em> to be executed. This <em>command</em> will be measured as a transaction since it has well defined start and end points. The information is made available through the trace.transact metrics.
  <p>Trace data can be sent to the trace PMDA running on <em>host</em>, rather than the localhost, using the <strong>-h</strong> option. This overrides use of the environment variable <strong>PCP_TRACE_HOST</strong>.
  <p>The <strong>-q</strong> option suppresses messages from a successful trace, so that <strong>pmtrace</strong> runs quietly.
  <p>The <strong>-c</strong> option allows an arbitrary counter <em>value</em> to be exported through the trace.count metrics, while the <strong>-v</strong> option allows an arbitrary floating point <em>value</em> to be exported through the trace.observe metrics
  <p>The <strong>-S</strong> option enables internal debugging and tracing. The value of <em>state</em> is a bit-wise combination of debug flags as defined in <a href="/3/pmtracestate" class="link-man">pmtracestate(3)</a>, and may be specified using the decimal or hexadecimal syntax prescribed by <a href="/3/strtol" class="link-man">strtol(3)</a>.
</div>
<div class="section">
  <h2>ENVIRONMENT</h2>
  <p>Since <strong>pmtrace</strong> uses the <em>libpcp_trace</em> library routines, the environment variables <strong>PCP_TRACE_HOST</strong>, <strong>PCP_TRACE_PORT</strong>, and <strong>PCP_TRACE_TIMEOUT</strong> are all honored. Refer to <a href="/3/pmdatrace" class="link-man">pmdatrace(3)</a> for a detailed description of the semantics of each.
</div>
<div class="section">
  <h2>FILES</h2>
  <dl>
    <dt><strong>$PCP_DEMOS_DIR/trace/pmtrace.c</strong>
    <dd>source code for <strong>pmtrace</strong>
  </dl>
</div>
<div class="section">
  <h2>PCP ENVIRONMENT</h2>
  <p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <a href="/5/pcp.conf" class="link-man">pcp.conf(5)</a>.
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><a href="/1/pmcd" class="link-man">pmcd(1)</a>, <a href="/1/pmdatrace" class="link-man">pmdatrace(1)</a>, <a href="/1/pmprobe" class="link-man">pmprobe(1)</a>, <a href="/3/PMAPI" class="link-man">PMAPI(3)</a>, and <a href="/3/pmdatrace" class="link-man">pmdatrace(3)</a>.
</div>
<div class="section">
  <h2>DIAGNOSTICS</h2>
  <p>All are generated on standard error and are intended to be self-explanatory.
  <p>The <strong>pmtrace</strong> exit status is always zero except when the <strong>-e</strong> option is in use, in which case the exit status of <em>command</em> is returned.
</div>

