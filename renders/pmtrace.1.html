<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-extra1="PCP" data-extra2="Performance Co-Pilot" data-extra3="">
<title>PMTRACE</title>
<h1>PMTRACE</h1>
<section>
  <h2>NAME</h2>
  <p><strong>pmtrace</strong> - command line performance instrumentation
</section>
<section>
  <h2>SYNOPSIS</h2>
  <p><strong>pmtrace</strong> [<strong>-q</strong>] [<strong>-c</strong> <em>value</em> | <strong>-e</strong> <em>command</em> | <strong>-v</strong> <em>value</em>] [<strong>-h</strong> <em>host</em>] [<strong>-S</strong> <em>state</em>] <em>tag</em>
</section>
<section>
  <h2>DESCRIPTION</h2>
  <p><strong>pmtrace</strong> provides a simple command line interface to the trace Performance Metrics Domain Agent (PMDA) and the associated <em>pcp_trace</em> library.
  <p>The default <strong>pmtrace</strong> behavior is to provide point trace data to the trace PMDA, using the <em>tag</em> argument as the identifying name associated with each trace point. The <em>tag</em> then becomes an instance identifier within the set of trace.point metrics.
  <p>The <strong>-e</strong> option allows an arbitrary <em>command</em> to be executed. This <em>command</em> will be measured as a transaction since it has well defined start and end points. &nbsp;The information is made available through the trace.transact metrics.
  <p>Trace data can be sent to the trace PMDA running on <em>host</em>, rather than the localhost, using the <strong>-h</strong> option. This overrides use of the environment variable <strong>PCP_TRACE_HOST</strong>.
  <p>The <strong>-q</strong> option suppresses messages from a successful trace, so that <strong>pmtrace</strong> runs quietly.
  <p>The <strong>-c</strong> option allows an arbitrary counter <em>value</em> to be exported through the trace.count metrics, while the <strong>-v</strong> option allows an arbitrary floating point <em>value</em> to be exported through the trace.observe metrics
  <p>The <strong>-S</strong> option enables internal debugging and tracing. &nbsp;The value of <em>state</em> is a bit-wise combination of debug flags as defined in <strong>pmtracestate</strong>(3), and may be specified using the decimal or hexadecimal syntax prescribed by <strong>strtol</strong>(3).
</section>
<section>
  <h2>ENVIRONMENT</h2>
  <p>Since <strong>pmtrace</strong> uses the <em>libpcp_trace</em> library routines, the environment variables <strong>PCP_TRACE_HOST</strong>, <strong>PCP_TRACE_PORT</strong>, and <strong>PCP_TRACE_TIMEOUT</strong> are all honored. Refer to <strong>pmdatrace</strong>(3) for a detailed description of the semantics of each.
</section>
<section>
  <h2>FILES</h2>
  <dl class="indent-10">
    <dt><strong>$PCP_DEMOS_DIR/trace/pmtrace.c</strong>
    <dd>
      <p>source code for <strong>pmtrace</strong>
  </dl>
</section>
<section>
  <h2>PCP ENVIRONMENT</h2>
  <p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).
</section>
<section>
  <h2>SEE ALSO</h2>
  <p><strong>pmcd</strong>(1), <strong>pmdatrace</strong>(1), <strong>pmprobe</strong>(1), <strong>PMAPI</strong>(3), and <strong>pmdatrace</strong>(3).
</section>
<section>
  <h2>DIAGNOSTICS</h2>
  <p>All are generated on standard error and are intended to be self-explanatory.
  <p>The <strong>pmtrace</strong> exit status is always zero except when the <strong>-e</strong> option is in use, in which case the exit status of <em>command</em> is returned.
</section>

