<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-date="July 2014" data-package="util-linux" data-section-name="User Commands">
<title>SU</title>
<h1>SU</h1>
<div class="section">
  <h2>NAME</h2>
  <p>su - run a command with substitute user and group ID
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>su</strong> [options] [<strong>-</strong>] [<em>user</em> [<em>argument</em>...]]
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p><strong>su</strong> allows to run commands with a substitute user and group ID.
  <p>When called without arguments, <strong>su</strong> defaults to running an interactive shell as <em>root</em>.
  <p>For backward compatibility, <strong>su</strong> defaults to not change the current directory and to only set the environment variables <strong>HOME</strong> and <strong>SHELL</strong> (plus <strong>USER</strong> and <strong>LOGNAME</strong> if the target <em>user</em> is not root). It is recommended to always use the <strong>--login</strong> option (instead of its shortcut <strong>-</strong>) to avoid side effects caused by mixing environments.
  <p>This version of <strong>su</strong> uses PAM for authentication, account and session management. Some configuration options found in other <strong>su</strong> implementations, such as support for a wheel group, have to be configured via PAM.
</div>
<div class="section">
  <h2>OPTIONS</h2>
  <dl>
    <dt><strong>-c</strong>, <strong>--command</strong>=<strong><em>command</em></strong>
    <dd>Pass <em>command</em> to the shell with the <strong>-c</strong> option.
    <dt><strong>-f</strong>, <strong>--fast</strong>
    <dd>Pass <strong>-f</strong> to the shell, which may or may not be useful, depending on the shell.
    <dt><strong>-g</strong>, <strong>--group</strong>=<strong><em>group</em></strong>
    <dd>Specify the primary group. This option is available to the root user only.
    <dt><strong>-G</strong>, <strong>--supp-group</strong>=<strong><em>group</em></strong>
    <dd>Specify a supplemental group. This option is available to the root user only. The first specified supplementary group is also used as a primary group if the option <strong>--group</strong> is unspecified.
    <dt><strong>-</strong>, <strong>-l</strong>, <strong>--login</strong>
    <dd>
      Start the shell as a login shell with an environment similar to a real login:<br>
      <dl>
        <dt>o
        <dd>clears all the environment variables except <strong>TERM</strong>
        <dt>o
        <dd>initializes the environment variables <strong>HOME</strong>, <strong>SHELL</strong>, <strong>USER</strong>, <strong>LOGNAME</strong>, and <strong>PATH</strong>
        <dt>o
        <dd>changes to the target user's home directory
        <dt>o
        <dd>sets argv[0] of the shell to '<strong>-</strong>' in order to make the shell a login shell
      </dl>
    <dt><strong>-m</strong>, <strong>-p</strong>, <strong>--preserve-environment</strong>
    <dd>Preserve the entire environment, i.e. it does not set <strong>HOME</strong>, <strong>SHELL</strong>, <strong>USER</strong> nor <strong>LOGNAME</strong>. This option is ignored if the option <strong>--login</strong> is specified.
    <dt><strong>-s</strong>, <strong>--shell</strong>=<strong><em>shell</em></strong>
    <dd>
      Run the specified <em>shell</em> instead of the default. The shell to run is selected according to the following rules, in order:<br>
      <dl>
        <dt>o
        <dd>the shell specified with <strong>--shell</strong>
        <dt>o
        <dd>the shell specified in the environment variable <strong>SHELL</strong>, if the <strong>--preserve-environment</strong> option is used
        <dt>o
        <dd>the shell listed in the passwd entry of the target user
        <dt>o
        <dd>/bin/sh
      </dl><br>
      If the target user has a restricted shell (i.e. not listed in /etc/shells), the <strong>--shell</strong> option and the <strong>SHELL</strong> environment variables are ignored unless the calling user is root.
    <dt><strong>--session-command=</strong><em>command</em>
    <dd>Same as <strong>-c</strong> but do not create a new session. (Discouraged.)
    <dt><strong>-V</strong>, <strong>--version</strong>
    <dd>Display version information and exit.
    <dt><strong>-h</strong>, <strong>--help</strong>
    <dd>Display help text and exit.
  </dl>
</div>
<div class="section">
  <h2>SIGNALS</h2>
  <p>Upon receiving either <strong>SIGINT</strong>, <strong>SIGQUIT</strong> or <strong>SIGTERM</strong>, <strong>su</strong> terminates its child and afterwards terminates itself with the received signal.
</div>
<div class="section">
  <h2>CONFIG FILES</h2>
  <p><strong>su</strong> reads the <em>/etc/default/su</em> and <em>/etc/login.defs</em> configuration files. The following configuration items are relevant for <strong>su</strong>(1):
  <p><strong>FAIL_DELAY</strong> (number)
  <div class="indent-4">
    <p>Delay in seconds in case of an authentication failure. The number must be a non-negative integer.
  </div>
  <p><strong>ENV_PATH</strong> (string)
  <div class="indent-4">
    <p>Defines the PATH environment variable for a regular user. The default value is <em>/usr/local/bin:/bin:/usr/bin</em>.
  </div>
  <p><strong>ENV_ROOTPATH</strong> (string)<br>
  <strong>ENV_SUPATH</strong> (string)
  <div class="indent-4">
    <p>Defines the PATH environment variable for root. The default value is <em>/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin</em>.
  </div>
  <p><strong>ALWAYS_SET_PATH</strong> (boolean)
  <div class="indent-4">
    <p>If set to <em>yes</em> and --login and --preserve-environment were not specified <strong>su</strong> initializes <strong>PATH</strong>.
  </div>
</div>
<div class="section">
  <h2>EXIT STATUS</h2>
  <p><strong>su</strong> normally returns the exit status of the command it executed. If the command was killed by a signal, <strong>su</strong> returns the number of the signal plus 128.
  <p>Exit status generated by <strong>su</strong> itself:
  <div class="indent-10">
    <dl>
      <dt>1
      <dd>Generic error before executing the requested command
      <dt>126
      <dd>The requested command could not be executed
      <dt>127
      <dd>The requested command was not found
    </dl>
  </div>
</div>
<div class="section">
  <h2>FILES</h2>
  <dl>
    <dt>/etc/pam.d/su
    <dd>default PAM configuration file
    <dt>/etc/pam.d/su-l
    <dd>PAM configuration file if --login is specified
    <dt>/etc/default/su
    <dd>command specific logindef config file
    <dt>/etc/login.defs
    <dd>global logindef config file
  </dl>
</div>
<div class="section">
  <h2>NOTES</h2>
  <p>For security reasons <strong>su</strong> always logs failed log-in attempts to the btmp file, but it does not write to the lastlog file at all. This solution allows to control <strong>su</strong> behavior by PAM configuration. If you want to use the pam_lastlog module to print warning message about failed log-in attempts then the pam_lastlog has to be configured to update the lastlog file as well. For example by:
  <div class="indent">
    <p>session required pam_lastlog.so nowtmp
  </div>
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><strong>runuser</strong>(8), <strong>pam</strong>(8), <strong>shells</strong>(5), <strong>login.defs</strong>(5)
</div>
<div class="section">
  <h2>HISTORY</h2>
  <p>This <strong>su</strong> command was derived from coreutils' <strong>su</strong>, which was based on an implementation by David MacKenzie.
</div>
<div class="section">
  <h2>AVAILABILITY</h2>
  <p>The su command is part of the util-linux package and is available from <a href="ftp://ftp.kernel.org/pub/linux/utils/util-linux/">Linux Kernel Archive</a>
</div>

