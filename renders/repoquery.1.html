<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-date="17 October 2005" data-package="Panu Matilainen" data-section-name="">
<title>repoquery</title>
<h1>repoquery</h1>
<div class="section">
  <h2>NAME</h2>
  <p>repoquery - query information from Yum repositories
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>repoquery</strong> [options] &lt;item ...&gt;<br>
  <strong>repoquery</strong> -a [options]
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p><strong>repoquery</strong> is a program for querying information from YUM repositories similarly to rpm queries.
</div>
<div class="section">
  <h2>GENERAL OPTIONS</h2>
  <dl>
    <dt><strong>--querytags</strong>
    <dd>List valid queryformat tags and exit.
    <dt><strong>--version</strong>
    <dd>Report program version and exit.
    <dt><strong>--repoid=&lt;repo&gt;</strong>
    <dd>Specify which repository to query. Using this option disables all repositories not explicitly enabled with --repoid option (can be used multiple times). By default repoquery uses whatever repositories are enabled in YUM configuration.
    <dt><strong>--enablerepo=&lt;repo&gt;</strong>
    <dd>In addition to the default set, query the given additional repository, even if it is disabled in YUM configuration. Can be used multiple times.
    <dt><strong>--disablerepo=&lt;repo&gt;</strong>
    <dd>Do not query the given repository, even if it is enabled in YUM configuration. Can be used multiple times.
    <dt><strong>--repofrompath=&lt;repoid&gt;,&lt;path/url&gt;</strong>
    <dd>Specify a path or url to a repository (same path as in a baseurl) to add to the repositories for this query. This option can be used multiple times. If you want to view only the pkgs from this repository combine this with --repoid. The repoid for the repository is specified by &lt;repoid&gt;.
    <dt><strong>--plugins</strong>
    <dd>Enable YUM plugin support.
    <dt><strong>-q, --query</strong>
    <dd>For rpmquery compatibility, doesn't do anything.
    <dt><strong>-h, --help</strong>
    <dd>Help; display a help message and then quit.
    <dt><strong>--quiet</strong>
    <dd>Run quietly: no warnings printed to stderr.
    <dt><strong>--verbose</strong>
    <dd>Produce verbose output.
    <dt><strong>-C, --cache</strong>
    <dd>Tells repoquery to run entirely from YUM cache - does not download any metadata or update the cache. Queries in this mode can fail or give partial/incorrect results if the cache isn't fully populated beforehand with eg “yum makecache”.
    <dt><strong>--nolock</strong>
    <dd>Disable locking the yum cache. This is needed as any yum API caller can alter the repo. metadata cache, unless it is locked. This automatically enables the --cache and --tempcache options, to try to lower the riskiness.
    <dt><strong>--tempcache</strong>
    <dd>Create and use a private cache instead of the main YUM cache. This is used by default when run as non-root user.
    <dt><strong>-c &lt;config file&gt;, --config=&lt;config file&gt;</strong>
    <dd>Use alternative config file (default is /etc/yum.conf).
    <dt><strong>--releasever=version</strong>
    <dd>Pretend the current release version is the given string. This is very useful when combined with --installroot. You can also use --releasever=/ to take the releasever information from outside the installroot. Note that with the default upstream cachedir, of /var/cache/yum, using this option will corrupt your cache (and you can use $releasever in your cachedir configuration to stop this).
    <dt><strong>--installroot=root</strong>
    <dd>Specifies an alternative installroot, relative to which all packages will be installed. Think of this like doing “chroot &lt;root&gt; yum” except using --installroot allows yum to work before the chroot is created. Note: You may also want to use the option --releasever=/ when creating the installroot as otherwise the $releasever value is taken from the rpmdb within the installroot (and thus. will be empty, before creation).
    <dt><strong>--setopt=option=value</strong>
    <dd>Set any config option in yum config or repo files. For options in the global config just use: --setopt=option=value for repo options use: --setopt=repoid.option=value
  </dl>
</div>
<div class="section">
  <h2>PACKAGE QUERY OPTIONS</h2>
  <dl>
    <dt><strong>-i, --info</strong>
    <dd>Show general information about package similarly to “rpm -qi”
    <dt><strong>-l, --list</strong>
    <dd>List files in package.
    <dt><strong>-R, --requires</strong>
    <dd>List package dependencies.
    <dt><strong>-R, --weak-requires</strong>
    <dd>List package weak dependencies.
    <dt><strong>-R, --info-requires</strong>
    <dd>List package informational dependencies.
    <dt><strong>-R, --weak-reverse-requires</strong>
    <dd>List package weak reverse dependencies.
    <dt><strong>-R, --info-reverse-requires</strong>
    <dd>List package informational reverse dependencies.
    <dt><strong>--resolve</strong>
    <dd>When used with --requires/--weak-requires/etc, resolve capabilities to originating packages.
    <dt><strong>--provides</strong>
    <dd>List capabilities package provides.
    <dt><strong>--obsoletes</strong>
    <dd>List capabilities obsoleted by package.
    <dt><strong>--conflicts</strong>
    <dd>List capabilities conflicting with package.
    <dt><strong>--changelog</strong>
    <dd>List package changelog.
    <dt><strong>--location</strong>
    <dd>Show a location where the package could be downloaded from. For example: <strong>wget `repoquery --location yum`</strong>
    <dt><strong>-s, --source</strong>
    <dd>Show package source RPM name.
    <dt><strong>--srpm</strong>
    <dd>Operate on corresponding source RPM.
    <dt><strong>--groupmember PACKAGE</strong>
    <dd>List the repodata groups (yumgroups.xml) belongs to (if any).
    <dt><strong>--nvr</strong>
    <dd>Use name-version-release output format (rpm query default)
    <dt><strong>--nevra</strong>
    <dd>Use name-epoch:version-release.architecture output format (default)
    <dt><strong>--envra</strong>
    <dd>Use epoch:name-version-release.architecture output format (easier to parse than nevra)
    <dt><strong>--qf=FORMAT, --queryformat=FORMAT</strong>
    <dd>Specify custom output format for queries. You can add “:date”, “:day” and “:isodate” to all the tags that are a time, and you can add “:k”, “:m”, “:g”, “:t” and “:h” to sizes. You can also specify field width as in sprintf (Eg. %-20{name})
    <dt><strong>--output [text|ascii-tree|ascii-tree+|dot-tree|dot-tree+]</strong>
    <dd>Output format which can be used with --requires/--weak-requires/--whatrequires/--obsoletes/--conflicts. The variants with a + suffix are used for weak dependencies and will merge the stronger variants into the output. Default output is 'text'.
    <dt><strong>--level [all|any int]</strong>
    <dd>In combination with --output ascii-tree|dot-tree|ascii-tree+|dot-tree+ this option specifies the number of level to print on the tree. Default level is 'all'.
  </dl>
</div>
<div class="section">
  <h2>PACKAGE SELECTION OPTIONS</h2>
  <dl>
    <dt><strong>-a, --all</strong>
    <dd>Query all available packages (for rpmquery compatibility / shorthand for repoquery '*')
    <dt><strong>--show-duplicates</strong>
    <dd>Query all versions of packages.
    <dt><strong>-f, --file FILE</strong>
    <dd>Query package owning FILE.
    <dt><strong>--whatobsoletes CAPABILITY</strong>
    <dd>Query all packages that obsolete CAPABILITY.
    <dt><strong>--whatconflicts CAPABILITY</strong>
    <dd>Query all packages that conflict with CAPABILITY.
    <dt><strong>--whatprovides CAPABILITY</strong>
    <dd>Query all packages that provide CAPABILITY.
    <dt><strong>--whatrequires CAPABILITY</strong>
    <dd>Query all packages that require CAPABILITY.
    <dt><strong>--alldeps</strong>
    <dd>When used with --whatrequires, look for non-explicit dependencies in addition to explicit ones (e.g. files and Provides in addition to package names). This is the default.
    <dt><strong>--exactdeps</strong>
    <dd>When used with --whatrequires, search for dependencies only exactly as given. This is effectively the opposite of --alldeps.
    <dt><strong>--recursive</strong>
    <dd>When used with --whatrequires, and --requires --resolve, query packages recursively.
    <dt><strong>--archlist=ARCH1[,ARCH2...]</strong>
    <dd>Limit the query to packages of given architecture(s). Valid values are all architectures known to rpm/yum such as 'i386' and 'src' for source RPMS. Note that repoquery will now change yum's “arch” to the first value in the archlist. So “--archlist=i386,i686” will change yum's canonical arch to i386, but allow packages of i386 and i686.
    <dt><strong>--pkgnarrow=WHAT</strong>
    <dd>Limit what packages are considered for the query. Valid values for WHAT are: installed, available, recent, updates, extras, all and repository (default).
    <dt><strong>--installed</strong>
    <dd>Restrict query ONLY to installed pkgs - disables all repos and only acts on rpmdb.
  </dl>
</div>
<div class="section">
  <h2>GROUP QUERY OPTIONS</h2>
  <dl>
    <dt><strong>-i, --info</strong>
    <dd>Show general information about group.
    <dt><strong>-l, --list</strong>
    <dd>List packages belonging to (required by) group.
    <dt><strong>--grouppkgs=WHAT</strong>
    <dd>Specify what type of packages are queried from groups. Valid values for WHAT are all, mandatory, default, optional.
    <dt><strong>--requires</strong>
    <dd>List groups required by group.
  </dl>
</div>
<div class="section">
  <h2>GROUP SELECTION OPTIONS</h2>
  <dl>
    <dt><strong>-a</strong>
    <dd>Query all available groups.
    <dt><strong>-g, --group</strong>
    <dd>Query groups instead of packages.
  </dl>
</div>
<div class="section">
  <h2>EXAMPLES</h2>
  <dl>
    <dt>List all packages whose name contains 'perl':
    <dd><strong>repoquery '*perl*'</strong>
    <dt>List all packages depending on openssl:
    <dd><strong>repoquery --whatrequires openssl</strong>
    <dt>List all package names and the repository they come from, nicely formatted:
    <dd><strong>repoquery -a --qf “%-20{repoid} %{name}”</strong>
    <dt>List name and summary of all available updates (if any), nicely formatted:
    <dd><strong>repoquery -a --pkgnarrow=updates --qf “%{name}:\n%{summary}\n”</strong>
    <dt>List optional packages in base group:
    <dd><strong>repoquery -g --grouppkgs=optional -l base</strong>
    <dt>List build requirements from 'anaconda' source rpm:
    <dd><strong>repoquery --requires anaconda.src</strong>
    <dt>List packages which BuildRequire gail-devel
    <dd><strong>repoquery --archlist=src --whatrequires gail-devel</strong> NB: This command will only work if you have repositories enabled which include srpms.
  </dl>
</div>
<div class="section">
  <h2>MISC</h2>
  <dl>
    <dt><strong>Specifying package names</strong>
    <dd>A package can be referred to in all queries with any of the following:<br>
    <br>
    <strong>name</strong><br>
    <strong>name.arch</strong><br>
    <strong>name-ver</strong><br>
    <strong>name-ver-rel</strong><br>
    <strong>name-ver-rel.arch</strong><br>
    <strong>name-epoch:ver-rel.arch</strong><br>
    <strong>epoch:name-ver-rel.arch</strong><br>
    For example: <strong>repoquery -l kernel-2.4.1-10.i686</strong><br>
    Additionally wildcards (shell-style globs) can be used.
  </dl>
</div>
<div class="section">
  <h2>FILES</h2>
  <p>As repoquery uses YUM libraries for retrieving all the information, it relies on YUM configuration for its default values like which repositories to use. Consult YUM documentation for details:
  <pre> /etc/yum.conf
 /etc/yum/repos.d/
 /var/cache/yum/</pre>
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <pre><em> yum.conf (5)</em>
 http://yum.baseurl.org/</pre>
</div>
<div class="section">
  <h2>AUTHORS</h2>
  <pre> See the Authors file included with this program.</pre>
</div>
<div class="section">
  <h2>BUGS</h2>
  <p>There are of course no bugs, but should you find any, you should first consult the FAQ section on http://yum.baseurl.org/wiki/Faq and if unsuccessful in finding a resolution contact the mailing list: yum-devel@lists.baseurl.org. To file a bug use http://bugzilla.redhat.com for Fedora/RHEL/Centos related bugs and http://yum.baseurl.org/report for all other bugs.
</div>

