<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-date="" data-package="" data-section-name="">
<title>mkbundle</title>
<h1>mkbundle</h1>
<div class="section">
  <h2>NAME</h2>
  <p>mkbundle, mkbundle2 - Creates a bundled executable.
</div>
<div class="section">
  <h2>SYNOPSIS</h2>
  <p><strong>mkbundle [options] assembly1 [assembly2 ...]</strong>
</div>
<div class="section">
  <h2>DESCRIPTION</h2>
  <p><em>mkbundle</em> generates an executable program that will contain static copies of the assemblies listed on the command line. By default only the assemblies specified in the command line will be included in the bundle. To automatically include all of the dependencies referenced, use the "--deps" command line option.
  <p>Use <em>mkbundle\FP when you want the startup runtime to load the 1.0 profile, and use</em> <em>mkbundle2</em> when you want the startup runtime to load the 2.0 profile.
  <p>For example, to create a bundle for hello world, use the following command:
  <pre> $ mkbundle -o hello hello.exe</pre>
  <p>The above will pull hello.exe into a native program called "hello". Notice that the produced image still contains the CIL image and no precompilation is done.
  <p>In addition, it is possible to control whether <em>mkbundle</em> should compile the resulting executable or not with the -c option. This is useful if you want to link additional libraries or control the generated output in more detail. For example, this could be used to link some libraries statically:
  <pre> $ mkbundle -c -o host.c -oo bundles.o --deps hello.exe $ cc host.c bundles.o /usr/lib/libmono.a -lc -lrt</pre>
  <p>You may also use <em>mkbundle</em> to generate a bundle you can use when embedding the Mono runtime in a native application. In that case, use both the -c and --nomain options. The resulting host.c file will not have a main() function. Call mono_mkbundle_init() before initializing the JIT in your code so that the bundled assemblies are available to the embedded runtime.
</div>
<div class="section">
  <h2>OPTIONS</h2>
  <dl>
    <dt><em>-c</em>
    <dd>Produce the stub file, do not compile the resulting stub.
    <dt><em>-o filename</em>
    <dd>Places the output on `out'. If the flag -c is specified, this is the C host program. If not, this contains the resulting executable.
    <dt><em>-oo filename</em>
    <dd>Specifies the name to be used for the helper object file that contains the bundle.
    <dt><em>-L path</em>
    <dd>Adds the `path' do the search list for assemblies. The rules are the same as for the compiler -lib: or -L flags.
    <dt>Specifies that a machine.config file must be bundled as well.
    <dd>Typically this is $prefix/etc/mono/1.0/machine.config or $prefix/etc/mono/2.0/machine.config depending on the profile that you are using (1.0 or 2.0)
    <dt><em>--nodeps</em>
    <dd>This is the default: <em>mkbundle</em> will only include the assemblies that were specified on the command line to reduce the size of the resulting image created.
    <dt><em>--deps</em>
    <dd>This option will bundle all of the referenced assemblies for the assemblies listed on the command line option. This is useful to distribute a self-contained image.
    <dt><em>--keeptemp</em>
    <dd>By default <em>mkbundle</em> will delete the temporary files that it uses to produce the bundle. This option keeps the file around.
    <dt><em>--machine-config FILE</em>
    <dd>Uses the given FILE as the machine.config file for the generated application.
    <dt><em>--nomain</em>
    <dd>With the -c option, generate the host stub without a main() function.
    <dt><em>--config-dir DIR</em>
    <dd>When passed, DIR will be set for the MONO_CFG_DIR environment variable
    <dt><em>--static</em>
    <dd>By default <em>mkbundle</em> dynamically links to mono and glib. This option causes it to statically link instead.
    <dt><strong>Important:</strong>
    <dd>Since the Mono runtime is licensed under the LGPL, even if you use static you should transfer the component pieces of the mkbundle to your users so they are able to upgrade the Mono runtime on their own.
    <dt>If you want to use this for commercial licenses, you must obtain a
    <dd>proprietary license for Mono from mono@novell.com
    <dt><em>-z</em>
    <dd>Compresses the assemblies before embedding. This results in smaller executable files, but increases startup time and requires zlib to be installed on the target system.
  </dl>
</div>
<div class="section">
  <h2>WINDOWS</h2>
  <p>On Windows systems, it it necessary to have Unix-like toolchain to be installed for <em>mkbundle</em> to work. You can use cygwin's and install gcc, gcc-mingw and as packages.
</div>
<div class="section">
  <h2>ENVIRONMENT VARIABLES</h2>
  <dl>
    <dt><em>AS</em>
    <dd>Assembler command. The default is "as".
    <dt><em>CC</em>
    <dd>C compiler command. The default is "cc" under Linux and "gcc" under Windows.
    <dt><em>MONO_BUNDLED_OPTIONS</em>
    <dd>Options to be passed to the bundled Mono runtime, separated by spaces. See the mono(1) manual page or run mono --help.
  </dl>
</div>
<div class="section">
  <h2>FILES</h2>
  <p>This program will load referenced assemblies from the Mono assembly cache.
</div>
<div class="section">
  <h2>BUGS</h2>
  <p>The option "--static" is not supported under Windows. Moreover, a full cygwin environment containing at least "gcc" and "as" is required for the build process. The generated executable does not depend on cygwin.
</div>
<div class="section">
  <h2>MAILING LISTS</h2>
  <p>Visit <a href="http://lists.ximian.com/mailman/listinfo/mono-devel-list">http://lists.ximian.com/mailman/listinfo/mono-devel-list</a> for details.
</div>
<div class="section">
  <h2>WEB SITE</h2>
  <p>Visit: <a href="http://www.mono-project.com">http://www.mono-project.com</a> for details
</div>
<div class="section">
  <h2>SEE ALSO</h2>
  <p><strong>mcs(1),</strong>mono(1),<strong>mono-config(5).</strong>
</div>

