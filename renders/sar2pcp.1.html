<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-extra1="PCP" data-extra2="Performance Co-Pilot" data-extra3="">
<title>SAR2PCP</title>
<h1>SAR2PCP</h1>
<section>
  <h2>NAME</h2>
  <p><strong>sar2pcp</strong> - import sar data and create a PCP archive
</section>
<section>
  <h2>SYNOPSIS</h2>
  <p><strong>sar2pcp</strong> <em>infile</em> <em>outfile</em>
</section>
<section>
  <h2>DESCRIPTION</h2>
  <p><strong>sar2pcp</strong> is intended to read a binary System Activity Reporting (sar) data file as created by <strong>sadc</strong>(1) (<em>infile</em>) and translate this into a Performance Co-Pilot (PCP) archive with the basename <em>outfile</em>.
  <p>However, if <em>infile</em> has the suffix .xml, then it will be considered already in XML format and <strong>sar2pcp</strong> will operate directly on it.
  <p>The resultant PCP achive may be used with all the PCP client tools to graph subsets of the data using <strong>pmchart</strong>(1), perform data reduction and reporting, filter with the PCP inference engine <strong>pmie</strong>(1), etc.
  <p>A series of physical files will be created with the prefix <em>outfile</em>. These are <em>outfile</em><strong>.0</strong> (the performance data), <em>outfile</em><strong>.meta</strong> (the metadata that describes the performance data) and <em>outfile</em><strong>.index</strong> (a temporal index to improve efficiency of replay operations for the archive). If any of these files exists already, then <strong>sar2pcp</strong> will <strong>not</strong> overwrite them and will exit with an error message of the form
  <p>__pmLogNewFile: blah.0 already exists, not over-written
  <p><strong>sar2pcp</strong> is a Perl script that uses the PCP::LogImport Perl wrapper around the PCP <em>libpcp_import</em> library, and as such could be used as an example to develop new tools to import other types of performance data and create PCP archives. A Python wrapper module is also available.
</section>
<section>
  <h2>CAVEATS</h2>
  <p>When not using the XML input option, <strong>sar2pcp</strong> requires <em>infile</em> to have been created by a version of <strong>sadc</strong>(1) from &lt;http://sebastien.godard.pagesperso-orange.fr/&gt; which includes the <strong>sadf</strong>(1) utility to translate <em>infile</em> into an XML stream (any since version 6); <strong>sar2pcp</strong> will automatically run <strong>sadf</strong>(1) and translate the resultant XML into a PCP archive.
  <p>When using binary <strong>sadc</strong> files it is important to ensure the installed <strong>sadf</strong> is compatible with the version of <strong>sadc</strong> that originally generated the binary files. Simply assuming a newer installed version will work is unfortunately far too optimistic, and nor should one assume that binary data from different platforms (e.g. different endianness) will work - these issues are due to limitations in <strong>sadc</strong> and <strong>sadf</strong>, and not in <strong>sar2pcp</strong> itself.
  <p>Fortunately, the <strong>sadf</strong> message indicating that an incompatibility has been detected is consistent across versions, and is always prefixed
  <p>Invalid system activity file
  <p>Using an XML <em>infile</em> has the advantage that the installed version of <strong>sadf</strong> is completely bypassed. <strong>sar2pcp</strong> undertakes to transform any valid XML produced by any of the different variations of <strong>sadf</strong> into a valid PCP archive. Any version of PCP will be able to interpret the archive files produced by any version of <strong>sar2pcp</strong>, and you are also free to move the binary PCP archive between different platforms, different hardware, even different operating systems - it Just Works (TM).
</section>
<section>
  <h2>PCP ENVIRONMENT</h2>
  <p>Environment variables with the prefix <strong>PCP_</strong> are used to parameterize the file and directory names used by PCP. On each installation, the file <em>/etc/pcp.conf</em> contains the local values for these variables. The <strong>$PCP_CONF</strong> variable may be used to specify an alternative configuration file, as described in <strong>pcp.conf</strong>(5).
</section>
<section>
  <h2>SEE ALSO</h2>
  <p><strong>pmie</strong>(1), <strong>pmchart</strong>(1), <strong>pmlogger</strong>(1), <strong>pmlogextract</strong>(1), <strong>pmlogsummary</strong>(1), <strong>sadc</strong>(1), <strong>sadf</strong>(1), <strong>sar</strong>(1), <strong>Date::Parse</strong>(3pm), <strong>Date::Format</strong>(3pm), <strong>PCP::LogImport</strong>(3pm), <strong>XML::TokeParser</strong>(3pm) and <strong>LOGIMPORT</strong>(3).
</section>

