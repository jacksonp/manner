<!DOCTYPE html>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="man-page-info" data-extra1="September 2016" data-extra2="rustc 1.13.0" data-extra3="User Commands">
<title>RUSTC</title>
<h1>RUSTC</h1>
<section>
  <h2>NAME</h2>
  <p>rustc - The Rust compiler
</section>
<section>
  <h2>SYNOPSIS</h2>
  <p><strong>rustc</strong> [<em>OPTIONS</em>] <em>INPUT</em>
</section>
<section>
  <h2>DESCRIPTION</h2>
  <p>This program is a compiler for the Rust language, available at https://www.rust-lang.org.
</section>
<section>
  <h2>OPTIONS</h2>
  <dl>
    <dt><strong>-h</strong>, <strong>--help</strong>
    <dd>
      <p>Display the help message.
    <dt><strong>--cfg</strong> <em>SPEC</em>
    <dd>
      <p>Configure the compilation environment.
    <dt><strong>-L</strong> [<em>KIND</em>=]<em>PATH</em>
    <dd>
      <p>Add a directory to the library search path. The optional <em>KIND</em> can be one of:
      <dl>
        <dt><strong>dependency</strong>
        <dd>
          <p>only lookup transitive dependencies here
        <dt><strong>crate</strong>
        <dd>
          <p>only lookup local `extern crate` directives here
        <dt><strong>native</strong>
        <dd>
          <p>only lookup native libraries here
        <dt><strong>framework</strong>
        <dd>
          <p>only look for OSX frameworks here
        <dt><strong>all</strong>
        <dd>
          <p>look for anything here (the default)
      </dl>
    <dt><strong>-l</strong> [<em>KIND</em>=]<em>NAME</em>
    <dd>
      <p>Link the generated crate(s) to the specified library <em>NAME</em>. The optional <em>KIND</em> can be one of <em>static</em>, <em>dylib</em>, or <em>framework</em>. If omitted, <em>dylib</em> is assumed.
    <dt><strong>--crate-type</strong> [bin|lib|rlib|dylib|cdylib|staticlib]
    <dd>
      <p>Comma separated list of types of crates for the compiler to emit.
    <dt><strong>--crate-name</strong> <em>NAME</em>
    <dd>
      <p>Specify the name of the crate being built.
    <dt><strong>--emit</strong> [asm|llvm-bc|llvm-ir|obj|link|dep-info][=<em>PATH</em>]
    <dd>
      <p>Configure the output that <strong>rustc</strong> will produce. Each emission may also have an optional explicit output <em>PATH</em> specified for that particular emission kind. This path takes precedence over the <strong>-o</strong> option.
    <dt><strong>--print</strong> [crate-name|file-names|sysroot]
    <dd>
      <p>Comma separated list of compiler information to print on stdout.
    <dt><strong>-g</strong>
    <dd>
      <p>Equivalent to <em>-C&nbsp;debuginfo=2</em>.
    <dt><strong>-O</strong>
    <dd>
      <p>Equivalent to <em>-C&nbsp;opt-level=2</em>.
    <dt><strong>-o</strong> <em>FILENAME</em>
    <dd>
      <p>Write output to <em>FILENAME</em>. Ignored if multiple <em>--emit</em> outputs are specified which don't have an explicit path otherwise.
    <dt><strong>--out-dir</strong> <em>DIR</em>
    <dd>
      <p>Write output to compiler‐chosen filename in <em>DIR</em>. Ignored if <em>-o</em> is specified. Defaults to the current directory.
    <dt><strong>--explain</strong> <em>OPT</em>
    <dd>
      <p>Provide a detailed explanation of an error message.
    <dt><strong>--test</strong>
    <dd>
      <p>Build a test harness.
    <dt><strong>--target</strong> <em>TARGET</em>
    <dd>
      <p>Target triple for which the code is compiled. This option defaults to the host’s target triple. The target triple has the general format &lt;arch&gt;&lt;sub&gt;-&lt;vendor&gt;-&lt;sys&gt;-&lt;abi&gt;, where:
      <dl>
        <dt><strong>&lt;arch&gt;</strong>
        <dd>
          <p>x86, arm, thumb, mips, etc.
        <dt><strong>&lt;sub&gt;</strong>
        <dd>
          <p>for example on ARM: v5, v6m, v7a, v7m, etc.
        <dt><strong>&lt;vendor&gt;</strong>
        <dd>
          <p>pc, apple, nvidia, ibm, etc.
        <dt><strong>&lt;sys&gt;</strong>
        <dd>
          <p>none, linux, win32, darwin, cuda, etc.
        <dt><strong>&lt;abi&gt;</strong>
        <dd>
          <p>eabi, gnu, android, macho, elf, etc.
      </dl>
    <dt><strong>-W help</strong>
    <dd>
      <p>Print 'lint' options and default settings.
    <dt><strong>-W</strong> <em>OPT</em>, <strong>--warn</strong> <em>OPT</em>
    <dd>
      <p>Set lint warnings.
    <dt><strong>-A</strong> <em>OPT</em>, <strong>--allow</strong> <em>OPT</em>
    <dd>
      <p>Set lint allowed.
    <dt><strong>-D</strong> <em>OPT</em>, <strong>--deny</strong> <em>OPT</em>
    <dd>
      <p>Set lint denied.
    <dt><strong>-F</strong> <em>OPT</em>, <strong>--forbid</strong> <em>OPT</em>
    <dd>
      <p>Set lint forbidden.
    <dt><strong>-C</strong> <em>FLAG</em>[=<em>VAL</em>], <strong>--codegen</strong> <em>FLAG</em>[=<em>VAL</em>]
    <dd>
      <p>Set a codegen‐related flag to the value specified. Use <em>-C help</em> to print available flags. See CODEGEN OPTIONS below.
    <dt><strong>-V</strong>, <strong>--version</strong>
    <dd>
      <p>Print version info and exit.
    <dt><strong>-v</strong>, <strong>--verbose</strong>
    <dd>
      <p>Use verbose output.
    <dt><strong>--extern</strong> <em>NAME</em>=<em>PATH</em>
    <dd>
      <p>Specify where an external rust library is located. These should match <em>extern</em> declarations in the crate's source code.
    <dt><strong>--sysroot</strong> <em>PATH</em>
    <dd>
      <p>Override the system root.
    <dt><strong>-Z</strong> <em>FLAG</em>
    <dd>
      <p>Set internal debugging options. Use <em>-Z help</em> to print available options.
    <dt><strong>--color</strong> auto|always|never
    <dd>
      <p>Configure coloring of output:
      <dl>
        <dt><strong>auto</strong>
        <dd>
          <p>colorize, if output goes to a tty (default);
        <dt><strong>always</strong>
        <dd>
          <p>always colorize output;
        <dt><strong>never</strong>
        <dd>
          <p>never colorize output.
      </dl>
  </dl>
</section>
<section>
  <h2>CODEGEN OPTIONS</h2>
  <dl>
    <dt><strong>ar</strong>=<em>/path/to/ar</em>
    <dd>
      <p>Path to the archive utility to use when assembling archives.
    <dt><strong>linker</strong>=<em>/path/to/cc</em>
    <dd>
      <p>Path to the linker utility to use when linking libraries, executables, and objects.
    <dt><strong>link-args</strong>='<em>-flag1 -flag2</em>'
    <dd>
      <p>A space‐separated list of extra arguments to pass to the linker when the linker is invoked.
    <dt><strong>lto</strong>
    <dd>
      <p>Perform LLVM link‐time optimizations.
    <dt><strong>target-cpu</strong>=<em>help</em>
    <dd>
      <p>Selects a target processor. If the value is 'help', then a list of available CPUs is printed.
    <dt><strong>target-feature</strong>='<em>+feature1</em>,<em>-feature2</em>'
    <dd>
      <p>A comma‐separated list of features to enable or disable for the target. A preceding '+' enables a feature while a preceding '-' disables it. Available features can be discovered through <em>llc -mcpu=help</em>.
    <dt><strong>passes</strong>=<em>val</em>
    <dd>
      <p>A space‐separated list of extra LLVM passes to run. A value of 'list' will cause <strong>rustc</strong> to print all known passes and exit. The passes specified are appended at the end of the normal pass manager.
    <dt><strong>llvm-args</strong>='<em>-arg1</em> <em>-arg2</em>'
    <dd>
      <p>A space‐separated list of arguments to pass through to LLVM.
    <dt><strong>save-temps</strong>
    <dd>
      <p>If specified, the compiler will save more files (.bc, .o, .no-opt.bc) generated throughout compilation in the output directory.
    <dt><strong>rpath</strong>
    <dd>
      <p>If specified, then the rpath value for dynamic libraries will be set in either dynamic library or executable outputs.
    <dt><strong>no-prepopulate-passes</strong>
    <dd>
      <p>Suppresses pre‐population of the LLVM pass manager that is run over the module.
    <dt><strong>no-vectorize-loops</strong>
    <dd>
      <p>Suppresses running the loop vectorization LLVM pass, regardless of optimization level.
    <dt><strong>no-vectorize-slp</strong>
    <dd>
      <p>Suppresses running the LLVM SLP vectorization pass, regardless of optimization level.
    <dt><strong>soft-float</strong>
    <dd>
      <p>Generates software floating point library calls instead of hardware instructions.
    <dt><strong>prefer-dynamic</strong>
    <dd>
      <p>Prefers dynamic linking to static linking.
    <dt><strong>no-integrated-as</strong>
    <dd>
      <p>Force usage of an external assembler rather than LLVM's integrated one.
    <dt><strong>no-redzone</strong>
    <dd>
      <p>Disable the use of the redzone.
    <dt><strong>relocation-model</strong>=[pic,static,dynamic-no-pic]
    <dd>
      <p>The relocation model to use. (Default: <em>pic</em>)
    <dt><strong>code-model</strong>=[small,kernel,medium,large]
    <dd>
      <p>Choose the code model to use.
    <dt><strong>metadata</strong>=<em>val</em>
    <dd>
      <p>Metadata to mangle symbol names with.
    <dt><strong>extra-filename</strong>=<em>val</em>
    <dd>
      <p>Extra data to put in each output filename.
    <dt><strong>codegen-units</strong>=<em>n</em>
    <dd>
      <p>Divide crate into <em>n</em> units to optimize in parallel.
    <dt><strong>remark</strong>=<em>val</em>
    <dd>
      <p>Print remarks for these optimization passes (space separated, or "all").
    <dt><strong>no-stack-check</strong>
    <dd>
      <p>Disable checks for stack exhaustion (a memory‐safety hazard!).
    <dt><strong>debuginfo</strong>=<em>val</em>
    <dd>
      <p>Debug info emission level:
      <dl>
        <dt><strong>0</strong>
        <dd>
          <p>no debug info;
        <dt><strong>1</strong>
        <dd>
          <p>line‐tables only (for stacktraces and breakpoints);
        <dt><strong>2</strong>
        <dd>
          <p>full debug info with variable and type information.
      </dl>
    <dt><strong>opt-level</strong>=<em>VAL</em>
    <dd>
      <p>Optimize with possible levels 0–3
  </dl>
</section>
<section>
  <h2>ENVIRONMENT</h2>
  <p>Some of these affect the output of the compiler, while others affect programs which link to the standard library.
  <dl>
    <dt><strong>RUST_TEST_THREADS</strong>
    <dd>
      <p>The test framework Rust provides executes tests in parallel. This variable sets the maximum number of threads used for this purpose. This setting is overridden by the --test-threads option.
    <dt><strong>RUST_TEST_NOCAPTURE</strong>
    <dd>
      <p>If set to a value other than "0", a synonym for the --nocapture flag.
    <dt><strong>RUST_MIN_STACK</strong>
    <dd>
      <p>Sets the minimum stack size for new threads.
    <dt><strong>RUST_BACKTRACE</strong>
    <dd>
      <p>If set to a value different than "0", produces a backtrace in the output of a program which panics.
  </dl>
</section>
<section>
  <h2>EXAMPLES</h2>
  <p>To build an executable from a source file with a main function:<br>
  &nbsp; &nbsp;$ rustc -o hello hello.rs<br>
  <br>
  To build a library from a source file:<br>
  &nbsp; &nbsp;$ rustc --crate-type=lib hello-lib.rs<br>
  <br>
  To build either with a crate (.rs) file:<br>
  &nbsp; &nbsp;$ rustc hello.rs<br>
  <br>
  To build an executable with debug info:<br>
  &nbsp; &nbsp;$ rustc -g -o hello hello.rs
</section>
<section>
  <h2>SEE ALSO</h2>
  <p><strong>rustdoc</strong>(1)
</section>
<section>
  <h2>BUGS</h2>
  <p>See https://github.com/rust-lang/rust/issues for issues.
</section>
<section>
  <h2>AUTHOR</h2>
  <p>See https://github.com/rust-lang/rust/graphs/contributors or use `git log --all --format='%cN &lt;%cE&gt;' | sort -u` in the rust source distribution.
</section>
<section>
  <h2>COPYRIGHT</h2>
  <p>This work is dual‐licensed under Apache&nbsp;2.0 and MIT terms. See <em>COPYRIGHT</em> file in the rust source distribution.
</section>

